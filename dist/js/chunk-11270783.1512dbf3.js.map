{"version":3,"sources":["webpack:///./src/assets/imgs/pdf-icon.png","webpack:///./src/views/order/index.vue?06ad","webpack:///src/views/order/index.vue","webpack:///./src/views/order/index.vue?8cab","webpack:///./src/views/order/index.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","headers","orders","tableLoading","scopedSlots","_u","key","fn","ref","item","index","_v","_s","user_name","user_email","type","order_data_name","staticClass","seen","date","split","$t","closed","on","$event","handleCloseOrder","handleShow","handleDelete","length","pagination","last_page","handlePagination","model","value","callback","$$v","$set","expression","_e","showOrderDialog","order","_l","orderInfo","i","data","attachments","showAttachments","statusInfo","empty","userInfo","country_code","phone","closeOrderDialog","proxy","photo","id","path","file","attachmentsDialog","staticRenderFns","name","orderUserInfo","orderStatusInfo","photos","pdfFiles","currentOrderId","locale","get","queries","createTableHeaders","watch","$route","route","query","getOrders","immediate","methods","headersList","TableHeaders","reqName","then","res","meta","console","log","catch","err","finally","getOrderData","handleShowOrderStructure","resetOrderArrays","push","user_phone","forEach","info","order_data","Object","keys","extraS","extra","slice","popUp","dismiss","formData","FormData","isClosed","append","map","el","splice","page","$router","resetOrder","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VDataTable","VDialog","VDivider","VIcon","VImg","VPagination","VProgressCircular","VRow","VSpacer"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,6B,2CCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,YAAYF,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIO,QAAQ,MAAQP,EAAIQ,OAAO,iBAAiB,GAAG,oBAAoB,EAAE,QAAUR,EAAIS,aAAa,sBAAsB,IAAIC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,SAASC,GACzW,IAAIC,EAAOD,EAAIC,KACXC,EAAQF,EAAIE,MAChB,MAAO,CAACZ,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGH,EAAKI,cAAcf,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGH,EAAKK,eAAehB,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGH,EAAKM,SAASjB,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGH,EAAKO,oBAAoBlB,EAAG,KAAK,CAAEW,EAAS,KAAEX,EAAG,SAAS,CAACmB,YAAY,OAAOjB,MAAM,CAAC,MAAQ,QAAQ,aAAa,UAAU,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAGH,EAAKS,KAAKC,KAAKC,MAAM,KAAK,IAAI,kBAAkBtB,EAAG,SAAS,CAACmB,YAAY,OAAOjB,MAAM,CAAC,MAAQ,MAAM,aAAa,UAAU,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAGlB,EAAI2B,GAAG,aAAa,mBAAmB,GAAGvB,EAAG,KAAK,CAAEW,EAAW,OAAEX,EAAG,SAAS,CAACmB,YAAY,OAAOjB,MAAM,CAAC,MAAQ,QAAQ,aAAa,UAAU,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAGH,EAAKa,OAAOH,KAAKC,MAAM,KAAK,IAAI,kBAAkBtB,EAAG,SAAS,CAACmB,YAAY,OAAOjB,MAAM,CAAC,MAAQ,MAAM,aAAa,UAAU,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAGlB,EAAI2B,GAAG,aAAa,mBAAmB,GAAGvB,EAAG,KAAK,CAAEW,EAAW,OAAEX,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAI2B,GAAG,qBAAqBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAI+B,iBAAiBhB,MAAS,CAACf,EAAIiB,GAAG,cAAcb,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAI2B,GAAG,sBAAsBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAI+B,iBAAiBhB,MAAS,CAACf,EAAIiB,GAAG,4BAA4B,GAAGb,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAI2B,GAAG,eAAeE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAIgC,WAAWjB,MAAS,CAACf,EAAIiB,GAAG,aAAab,EAAG,SAAS,CAACmB,YAAY,OAAOjB,MAAM,CAAC,MAAQN,EAAI2B,GAAG,iBAAiBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAIiC,aAAalB,EAAMC,MAAU,CAAChB,EAAIiB,GAAG,iBAAiB,YAAYb,EAAG,MAAM,CAACmB,YAAY,uBAAuB,CAAEvB,EAAIQ,OAAO0B,OAAS,GAAKlC,EAAImC,WAAWC,UAAY,EAAGhC,EAAG,eAAe,CAACE,MAAM,CAAC,OAASN,EAAImC,WAAWC,UAAU,gBAAgB,IAAIP,GAAG,CAAC,MAAQ7B,EAAIqC,kBAAkBC,MAAM,CAACC,MAAOvC,EAAImC,WAAuB,aAAEK,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAImC,WAAY,eAAgBM,IAAME,WAAW,6BAA6B3C,EAAI4C,MAAM,GAAGxC,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,SAASgC,MAAM,CAACC,MAAOvC,EAAmB,gBAAEwC,SAAS,SAAUC,GAAMzC,EAAI6C,gBAAgBJ,GAAKE,WAAW,oBAAoB,CAACvC,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGjB,KAAK0B,GAAG,2BAA2BvB,EAAG,aAAcJ,EAAI8C,MAAQ,GAAE1C,EAAG,cAAc,CAACmB,YAAY,kBAAkB,CAACnB,EAAG,KAAK,CAACmB,YAAY,QAAQ,CAACvB,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAG,wBAAwBvB,EAAG,aAAaJ,EAAI+C,GAAI/C,EAAa,WAAE,SAASgD,EAAUC,GAAG,OAAO7C,EAAG,QAAQ,CAACQ,IAAIqC,EAAI,GAAG,CAAED,EAAc,KAAE5C,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAI,SAAYqB,EAAa,MAAK,UAAUhD,EAAI4C,KAAMI,EAAc,KAAE5C,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAG8B,EAAUE,MAAM,kBAAkBlD,EAAI4C,MAAM,MAAM5C,EAAI8C,MAAMK,YAAkB,OAAE/C,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAG,sBAAsB,UAAUvB,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,cAAcuB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9B,EAAIoD,gBAAgBpD,EAAI8C,UAAU,CAAC9C,EAAIiB,GAAG,qBAAqB,IAAI,GAAGjB,EAAI4C,KAAKxC,EAAG,KAAK,CAACmB,YAAY,QAAQ,CAACvB,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAG,yBAAyBvB,EAAG,aAAaJ,EAAI+C,GAAI/C,EAAmB,iBAAE,SAASqD,EAAWJ,GAAG,OAAO7C,EAAG,QAAQ,CAACQ,IAAIqC,GAAG,CAAC7C,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAI,SAAY0B,EAAc,MAAK,UAAUjD,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAGmC,EAAWH,KAAKI,MACryGtD,EAAI2B,GAAG,YACP0B,EAAWH,KAAKzB,KAAKC,MAAM,KAAK,IAAI,mBAAmB,MAAKtB,EAAG,KAAK,CAACmB,YAAY,QAAQ,CAACvB,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAG,uBAAuBvB,EAAG,aAAaJ,EAAI+C,GAAI/C,EAAiB,eAAE,SAASuD,EAASvC,GAAO,OAAOZ,EAAG,QAAQ,CAACQ,IAAII,EAAQ,GAAG,CAACZ,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAI,SAAY4B,EAAY,MAAK,UACtU,eAAjBA,EAAS3C,MAAyB2C,EAASL,KAAKI,OAC9B,eAAjBC,EAAS3C,IACXR,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,IAAI,KAAO,OAAO,CAACN,EAAIiB,GAAG,iBAAiBjB,EAAIkB,GAAoB,eAAjBqC,EAAS3C,IAC/E2C,EAASL,KAAKM,aAAe,MAAQD,EAASL,KAAKO,MACnDF,EAASL,MAAM,kBAAkBlD,EAAI4C,MAAM,OAAM,GAAGxC,EAAG,cAAc,CAACmB,YAAY,oBAAoB,CAACnB,EAAG,sBAAsB,CAACE,MAAM,CAAC,KAAO,IAAI,MAAQ,UAAU,cAAgB,OAAO,GAAGF,EAAG,YAAY,CAACmB,YAAY,SAASnB,EAAG,iBAAiB,CAACmB,YAAY,aAAa,CAACnB,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,WAAWuB,GAAG,CAAC,MAAQ7B,EAAI0D,mBAAmB,CAAC1D,EAAIiB,GAAGjB,EAAIkB,GAAGjB,KAAK0B,GAAG,oBAAoBvB,EAAG,aAAa,IAAI,IAAI,GAAGA,EAAG,kBAAkB,CAACM,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACT,EAAG,eAAe,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAI2B,GAAG,6BAA6BgC,OAAM,GAAM,CAAC/C,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACT,EAAG,QAAQ,CAACJ,EAAI+C,GAAI/C,EAAU,QAAE,SAAS4D,GAAO,OAAOxD,EAAG,QAAQ,CAACQ,IAAIgD,EAAMC,GAAGvD,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,QAAQ,MAAQ,GAAG,eAAe,IAAI,IAAMsD,GAASA,EAAME,SAAS,MAAK9D,EAAI+C,GAAI/C,EAAY,UAAE,SAAS+D,GAAM,OAAO3D,EAAG,QAAQ,CAACQ,IAAImD,EAAKF,GAAGvD,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAOyD,EAAKD,KAAK,OAAS,WAAW,CAAC1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,GAAG,eAAe,IAAI,IAAM,EAAQ,YAAkC,SAAQ,KAAKqD,OAAM,KAAQrB,MAAM,CAACC,MAAOvC,EAAqB,kBAAEwC,SAAS,SAAUC,GAAMzC,EAAIgE,kBAAkBvB,GAAKE,WAAW,wBAAwB,IAClvCsB,EAAkB,G,6CCmOP,GACbC,KAAM,QAEN,OACE,MAAO,CACL3D,QAAS,GACTC,OAAQ,GACRC,cAAc,EAEdqC,MAAO,GACPqB,cAAe,GACfnB,UAAW,GACXoB,gBAAiB,GAEjBC,OAAQ,GACRC,SAAU,GAEVC,eAAgB,KAChB1B,iBAAiB,EACjBmB,mBAAmB,EACnBQ,OAAQ,IAAQC,IAAI,YAEpBtC,WAAY,GACZuC,QAAS,KAGb,UACEzE,KAAK0E,sBAGPC,MAAO,CACLC,OAAQ,CACN,QAAQC,GACN7E,KAAKyE,QAAU,IACVI,EAAMC,OAEX9E,KAAK+E,aAEPC,WAAW,GAEbjB,kBAAmB,CACjB,QAAQzB,GACDA,IACHtC,KAAKoE,OAAS,GACdpE,KAAKqE,SAAW,KAGpBW,WAAW,GAEbpC,gBAAiB,CACf,QAAQN,GACDA,GACHtC,KAAK+E,eAKbE,QAAS,CACP,qBACE,MAAMC,EAAc,CAClB,YACA,aACA,OACA,kBACA,OACA,SACA,eACA,WAEFlF,KAAKM,QAAU,OAAA6E,EAAA,MAAaD,IAE9B,YACE,eAAU,CAAEE,QAAS,SAAUN,MAAO9E,KAAKyE,UACxCY,KAAKC,IACJ,MAAM,KAAErC,EAAI,KAAEsC,GAASD,EAAIrC,KAC3BjD,KAAKO,OAAS0C,EACdjD,KAAKkC,WAAaqD,EAClBC,QAAQC,IAAI,YAAaF,KAE1BG,MAAMC,IACLH,QAAQC,IAAIE,KAEbC,QAAQ,KACP5F,KAAKQ,cAAe,KAG1B,YAAW,GAAEoD,IACX5D,KAAKsE,eAAiBV,EACtB5D,KAAK4C,iBAAkB,EAEvB5C,KAAK6F,gBAQP,eACE,eAAS,CACPT,QAAS,SACTxB,GAAI5D,KAAKsE,eACTC,OAAQvE,KAAKuE,SAEZc,KAAKC,IACJ,MAAM,MAAEzC,GAAUyC,EAAIrC,KACtBjD,KAAK6C,MAAQ,IAAKA,GAClB7C,KAAK8F,6BAENJ,MAAMC,IACL3F,KAAKyD,mBACL+B,QAAQC,IAAIE,MAIlB,2BACE3F,KAAK+F,mBAGL/F,KAAKkE,cAAc8B,KACjB,CAAErF,IAAK,YAAasC,KAAMjD,KAAK6C,MAAM3B,WACrC,CAAEP,IAAK,aAAcsC,KAAMjD,KAAK6C,MAAM1B,YACtC,CACER,IAAK,aACLsC,KAAMjD,KAAK6C,MAAMoD,WACb,IAAKjG,KAAK6C,MAAMoD,YAChB,CAAE5C,OAAO,KAIjBrD,KAAKkE,cAAcgC,QAAQC,WAClBnG,KAAK6C,MAAMsD,EAAKxF,OAIzBX,KAAKmE,gBAAgB6B,KACnB,CACErF,IAAK,OACLsC,KAAMjD,KAAK6C,MAAMtB,KAAO,IAAKvB,KAAK6C,MAAMtB,MAAS,CAAE8B,OAAO,IAE5D,CACE1C,IAAK,SACLsC,KAAMjD,KAAK6C,MAAMlB,OAAS,IAAK3B,KAAK6C,MAAMlB,QAAW,CAAE0B,OAAO,KAIlErD,KAAKmE,gBAAgB+B,QAAQC,WACpBnG,KAAK6C,MAAMsD,EAAKxF,cAIlBX,KAAK6C,MAAMuD,WAElBC,OAAOC,KAAKtG,KAAK6C,OAAOqD,QAAQvF,IAC9B,GAAY,mBAARA,EAA0B,CAC5B,IAAI4F,EAAS,GACbvG,KAAK6C,MAAMlC,GAAKuF,QAAQM,IACtBD,GAAUC,EAAMvC,KAAO,QAEzBsC,EAASA,EAAOE,MAAM,GAAI,GAC1BzG,KAAK+C,UAAUiD,KAAK,CAAErF,IAAKA,EAAKsC,KAAMsD,QACtB,MAAP5F,GAAsB,eAAPA,GACxBX,KAAK+C,UAAUiD,KAAK,CAAErF,IAAKA,EAAKsC,KAAMjD,KAAK6C,MAAMlC,QAKvD,kBAAiB,GAAEiD,EAAE,OAAEjC,IACrB3B,KAAK0G,QAAQrB,KAAK/C,IAChB,IAAKA,EAAMqE,QAAS,CAClB,IAAIC,EAAW,IAAIC,SAGfC,EAAWnF,EAAS,MAAQ,KAChCiF,EAASG,OAAO,SAAUD,GAC1BF,EAASG,OAAO,UAAW,OAC3BH,EAASG,OAAO,SAAU/G,KAAKuE,QAE/B,eAAW,CAAEa,QAAS,SAAUxB,GAAIA,EAAIX,KAAM2D,IAC3CvB,KAAK,KACJrF,KAAK+E,cAENW,MAAMC,GAAOH,QAAQC,IAAIE,QAKlC,iBAAgB,YAAEzC,IAChBlD,KAAKyD,mBACLzD,KAAK+D,mBAAoB,EAEzBb,EAAY8D,IAAIC,IACE,UAAZA,EAAG7F,KACLpB,KAAKoE,OAAO4B,KAAKiB,GACI,SAAZA,EAAG7F,MACZpB,KAAKqE,SAAS2B,KAAKiB,MAKzB,cAAa,GAAErD,GAAM7C,GACnBf,KAAK0G,QAAQrB,KAAK/C,IACXA,EAAMqE,SACT,eAAW,CAAEvB,QAAS,SAAUxB,GAAIA,IACjCyB,KAAK,KACJrF,KAAKO,OAAO2G,OAAOnG,EAAO,KAE3B2E,MAAMC,GAAOH,QAAQC,IAAIE,OAKlC,iBAAiBrD,GACftC,KAAKyE,QAAQ0C,KAAO7E,EACpBtC,KAAKoH,QAAQpB,KAAK,CAAElB,MAAO9E,KAAKyE,WAElC,mBACEzE,KAAK4C,iBAAkB,EACvB5C,KAAKqH,cAEP,aACErH,KAAK6C,MAAQ,GACb7C,KAAK+F,mBAEL/F,KAAKuE,OAAS,IAAQC,IAAI,YAC1BxE,KAAKsE,eAAiB,MAExB,mBACEtE,KAAKkE,cAAgB,GACrBlE,KAAK+C,UAAY,GACjB/C,KAAKmE,gBAAkB,MCpd0N,I,yMCOnPmD,EAAY,eACd,EACAxH,EACAkE,GACA,EACA,KACA,KACA,MAIa,aAAAsD,EAAiB,QAoBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,OAAA,KAAKC,aAAA,KAAWC,UAAA,KAAQC,WAAA,KAASC,QAAA,KAAMC,OAAA,KAAKC,cAAA,KAAYC,oBAAA,KAAkBC,OAAA,KAAKC,UAAA","file":"js/chunk-11270783.1512dbf3.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/pdf-icon.50434788.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('global-toolbar',{attrs:{\"title\":\"orders\"}}),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.orders,\"items-per-page\":20,\"mobile-breakpoint\":0,\"loading\":_vm.tableLoading,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('tr',[_c('td',[_vm._v(_vm._s(item.user_name))]),_c('td',[_vm._v(_vm._s(item.user_email))]),_c('td',[_vm._v(_vm._s(item.type))]),_c('td',[_vm._v(_vm._s(item.order_data_name))]),_c('td',[(item.seen)?_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":\"green\",\"text-color\":\"white\"}},[_vm._v(\"\\n            \"+_vm._s(item.seen.date.split(\" \")[0])+\"\\n          \")]):_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":\"red\",\"text-color\":\"white\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"label.no\"))+\"\\n          \")])],1),_c('td',[(item.closed)?_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":\"green\",\"text-color\":\"white\"}},[_vm._v(\"\\n            \"+_vm._s(item.closed.date.split(\" \")[0])+\"\\n          \")]):_c('v-chip',{staticClass:\"ma-2\",attrs:{\"color\":\"red\",\"text-color\":\"white\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"label.no\"))+\"\\n          \")])],1),_c('td',[(item.closed)?_c('v-icon',{attrs:{\"title\":_vm.$t('label.open_order')},on:{\"click\":function($event){return _vm.handleCloseOrder(item)}}},[_vm._v(\"mdi-lock\")]):_c('v-icon',{attrs:{\"title\":_vm.$t('label.close_order')},on:{\"click\":function($event){return _vm.handleCloseOrder(item)}}},[_vm._v(\"mdi-lock-open-variant\")])],1),_c('td',[_c('v-icon',{attrs:{\"title\":_vm.$t('label.show')},on:{\"click\":function($event){return _vm.handleShow(item)}}},[_vm._v(\"mdi-eye\")]),_c('v-icon',{staticClass:\"mx-1\",attrs:{\"title\":_vm.$t('label.delete')},on:{\"click\":function($event){return _vm.handleDelete(item, index)}}},[_vm._v(\"mdi-delete\")])],1)])]}}])}),_c('div',{staticClass:\"text-xs-center pt-2\"},[(_vm.orders.length > 0 && _vm.pagination.last_page > 1)?_c('v-pagination',{attrs:{\"length\":_vm.pagination.last_page,\"total-visible\":20},on:{\"input\":_vm.handlePagination},model:{value:(_vm.pagination.current_page),callback:function ($$v) {_vm.$set(_vm.pagination, \"current_page\", $$v)},expression:\"pagination.current_page\"}}):_vm._e()],1),_c('v-dialog',{attrs:{\"max-width\":\"700px\"},model:{value:(_vm.showOrderDialog),callback:function ($$v) {_vm.showOrderDialog=$$v},expression:\"showOrderDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(this.$t(\"label.order_details\")))]),_c('v-divider'),(_vm.order.id)?_c('v-card-text',{staticClass:\"py-3 height-90\"},[_c('h3',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.$t(\"label.order_info\")))]),_c('v-divider'),_vm._l((_vm.orderInfo),function(orderInfo,i){return _c('v-row',{key:i + 6},[(orderInfo.data)?_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('h4',[_vm._v(_vm._s(_vm.$t((\"label.\" + (orderInfo.key))))+\" :\")])]):_vm._e(),(orderInfo.data)?_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_vm._v(\"\\n            \"+_vm._s(orderInfo.data)+\"\\n          \")]):_vm._e()],1)}),(_vm.order.attachments.length)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('h4',[_vm._v(_vm._s(_vm.$t(\"label.attachments\"))+\" :\")])]),_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('v-icon',{attrs:{\"medium\":\"\",\"title\":\"attachment\"},on:{\"click\":function($event){return _vm.showAttachments(_vm.order)}}},[_vm._v(\"mdi-attachment\")])],1)],1):_vm._e(),_c('h3',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.$t(\"label.status_info\")))]),_c('v-divider'),_vm._l((_vm.orderStatusInfo),function(statusInfo,i){return _c('v-row',{key:i},[_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('h4',[_vm._v(_vm._s(_vm.$t((\"label.\" + (statusInfo.key))))+\" :\")])]),_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_vm._v(\"\\n            \"+_vm._s(statusInfo.data.empty\n                ? _vm.$t(\"label.no\")\n                : statusInfo.data.date.split(\" \")[0])+\"\\n          \")])],1)}),_c('h3',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.$t(\"label.user_info\")))]),_c('v-divider'),_vm._l((_vm.orderUserInfo),function(userInfo,index){return _c('v-row',{key:index + 3},[_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_c('h4',[_vm._v(_vm._s(_vm.$t((\"label.\" + (userInfo.key))))+\" :\")])]),(\n              (userInfo.key === 'user_phone' && !userInfo.data.empty) ||\n                userInfo.key !== 'user_phone'\n            )?_c('v-col',{attrs:{\"md\":\"6\",\"cols\":\"12\"}},[_vm._v(\"\\n            \"+_vm._s(userInfo.key === \"user_phone\"\n                ? userInfo.data.country_code + \" / \" + userInfo.data.phone\n                : userInfo.data)+\"\\n          \")]):_vm._e()],1)})],2):_c('v-card-text',{staticClass:\"py-3 text-center\"},[_c('v-progress-circular',{attrs:{\"size\":100,\"color\":\"primary\",\"indeterminate\":\"\"}})],1),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-actions',{staticClass:\"py-4 mx-2\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.closeOrderDialog}},[_vm._v(_vm._s(this.$t(\"button.close\")))]),_c('v-spacer')],1)],1)],1),_c('DialogComponent',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('v-card-title',[_vm._v(_vm._s(_vm.$t(\"heading.attachments\")))])]},proxy:true},{key:\"body\",fn:function(){return [_c('v-row',[_vm._l((_vm.photos),function(photo){return _c('v-col',{key:photo.id,attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-img',{attrs:{\"title\":\"photo\",\"fluid\":\"\",\"aspect-ratio\":\"1\",\"src\":photo && photo.path}})],1)}),_vm._l((_vm.pdfFiles),function(file){return _c('v-col',{key:file.id,attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('a',{attrs:{\"href\":file.path,\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"title\":\"pdf\",\"fluid\":\"\",\"aspect-ratio\":\"1\",\"src\":require('@/assets/imgs/pdf-icon.png')}})],1)])})],2)]},proxy:true}]),model:{value:(_vm.attachmentsDialog),callback:function ($$v) {_vm.attachmentsDialog=$$v},expression:\"attachmentsDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main>\n    <!-- Toolbar -->\n    <global-toolbar title=\"orders\" />\n    <!-- Toolbar -->\n\n    <!-- Table -->\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"orders\"\n      :items-per-page=\"20\"\n      :mobile-breakpoint=\"0\"\n      :loading=\"tableLoading\"\n      hide-default-footer\n    >\n      <template v-slot:item=\"{ item, index }\">\n        <tr>\n          <td>{{ item.user_name }}</td>\n          <td>{{ item.user_email }}</td>\n          <td>{{ item.type }}</td>\n          <td>{{ item.order_data_name }}</td>\n          <td>\n            <v-chip\n              v-if=\"item.seen\"\n              class=\"ma-2\"\n              color=\"green\"\n              text-color=\"white\"\n            >\n              {{ item.seen.date.split(\" \")[0] }}\n            </v-chip>\n            <v-chip v-else class=\"ma-2\" color=\"red\" text-color=\"white\">\n              {{ $t(\"label.no\") }}\n            </v-chip>\n          </td>\n          <td>\n            <v-chip\n              v-if=\"item.closed\"\n              class=\"ma-2\"\n              color=\"green\"\n              text-color=\"white\"\n            >\n              {{ item.closed.date.split(\" \")[0] }}\n            </v-chip>\n            <v-chip v-else class=\"ma-2\" color=\"red\" text-color=\"white\">\n              {{ $t(\"label.no\") }}\n            </v-chip>\n          </td>\n          <td>\n            <v-icon\n              v-if=\"item.closed\"\n              :title=\"$t('label.open_order')\"\n              @click=\"handleCloseOrder(item)\"\n              >mdi-lock</v-icon\n            >\n            <v-icon\n              v-else\n              :title=\"$t('label.close_order')\"\n              @click=\"handleCloseOrder(item)\"\n              >mdi-lock-open-variant</v-icon\n            >\n          </td>\n          <td>\n            <v-icon :title=\"$t('label.show')\" @click=\"handleShow(item)\"\n              >mdi-eye</v-icon\n            >\n            <v-icon\n              class=\"mx-1\"\n              :title=\"$t('label.delete')\"\n              @click=\"handleDelete(item, index)\"\n              >mdi-delete</v-icon\n            >\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n    <!-- Table -->\n\n    <!-- pagination -->\n    <div class=\"text-xs-center pt-2\">\n      <v-pagination\n        v-if=\"orders.length > 0 && pagination.last_page > 1\"\n        v-model=\"pagination.current_page\"\n        :length=\"pagination.last_page\"\n        :total-visible=\"20\"\n        @input=\"handlePagination\"\n      ></v-pagination>\n    </div>\n    <!-- pagination -->\n\n    <!-- Dialog -->\n    <v-dialog v-model=\"showOrderDialog\" max-width=\"700px\">\n      <v-card>\n        <v-card-title>{{ this.$t(\"label.order_details\") }}</v-card-title>\n        <v-divider></v-divider>\n\n        <v-card-text class=\"py-3 height-90\" v-if=\"order.id\">\n          <!-- Locale -->\n          <!-- <v-row justify=\"center\">\n            <v-col cols=\"6\">\n              <locale-select @change=\"fireLocaleChange\" />\n            </v-col>\n          </v-row> -->\n          <!-- Locale -->\n\n          <!-- Order Data -->\n          <h3 class=\"mt-3\">{{ $t(\"label.order_info\") }}</h3>\n          <v-divider></v-divider>\n          <v-row v-for=\"(orderInfo, i) in orderInfo\" :key=\"i + 6\">\n            <v-col v-if=\"orderInfo.data\" md=\"6\" cols=\"12\">\n              <h4>{{ $t(`label.${orderInfo.key}`) }} :</h4>\n            </v-col>\n\n            <v-col v-if=\"orderInfo.data\" md=\"6\" cols=\"12\">\n              {{ orderInfo.data }}\n            </v-col>\n          </v-row>\n\n          <!-- Attachments -->\n          <v-row v-if=\"order.attachments.length\">\n            <v-col md=\"6\" cols=\"12\">\n              <h4>{{ $t(\"label.attachments\") }} :</h4>\n            </v-col>\n\n            <v-col md=\"6\" cols=\"12\">\n              <v-icon medium title=\"attachment\" @click=\"showAttachments(order)\"\n                >mdi-attachment</v-icon\n              >\n            </v-col>\n          </v-row>\n          <!-- Attachments -->\n          <!-- Order Data -->\n\n          <!-- Order Status Data -->\n          <h3 class=\"mt-3\">{{ $t(\"label.status_info\") }}</h3>\n          <v-divider></v-divider>\n          <v-row v-for=\"(statusInfo, i) in orderStatusInfo\" :key=\"i\">\n            <v-col md=\"6\" cols=\"12\">\n              <h4>{{ $t(`label.${statusInfo.key}`) }} :</h4>\n            </v-col>\n\n            <v-col md=\"6\" cols=\"12\">\n              {{\n                statusInfo.data.empty\n                  ? $t(\"label.no\")\n                  : statusInfo.data.date.split(\" \")[0]\n              }}\n            </v-col>\n          </v-row>\n          <!-- Order Status Data -->\n\n          <!-- Order User Data -->\n          <h3 class=\"mt-3\">{{ $t(\"label.user_info\") }}</h3>\n          <v-divider></v-divider>\n          <v-row v-for=\"(userInfo, index) in orderUserInfo\" :key=\"index + 3\">\n            <v-col md=\"6\" cols=\"12\">\n              <h4>{{ $t(`label.${userInfo.key}`) }} :</h4>\n            </v-col>\n\n            <v-col\n              v-if=\"\n                (userInfo.key === 'user_phone' && !userInfo.data.empty) ||\n                  userInfo.key !== 'user_phone'\n              \"\n              md=\"6\"\n              cols=\"12\"\n            >\n              {{\n                userInfo.key === \"user_phone\"\n                  ? userInfo.data.country_code + \" / \" + userInfo.data.phone\n                  : userInfo.data\n              }}\n            </v-col>\n          </v-row>\n          <!-- Order User Data -->\n        </v-card-text>\n        <v-card-text class=\"py-3 text-center\" v-else>\n          <v-progress-circular\n            :size=\"100\"\n            color=\"primary\"\n            indeterminate\n          ></v-progress-circular>\n        </v-card-text>\n\n        <v-divider class=\"mx-4\"></v-divider>\n        <v-card-actions class=\"py-4 mx-2\">\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" @click=\"closeOrderDialog\">{{\n            this.$t(\"button.close\")\n          }}</v-btn>\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- Dialog -->\n\n    <!-- AttachmentsDialog -->\n    <DialogComponent v-model=\"attachmentsDialog\">\n      <template #heading>\n        <v-card-title>{{ $t(\"heading.attachments\") }}</v-card-title>\n      </template>\n      <template #body>\n        <v-row>\n          <v-col cols=\"12\" md=\"3\" v-for=\"photo in photos\" :key=\"photo.id\">\n            <v-img\n              title=\"photo\"\n              fluid\n              aspect-ratio=\"1\"\n              :src=\"photo && photo.path\"\n            ></v-img>\n          </v-col>\n          <v-col cols=\"12\" md=\"3\" v-for=\"file in pdfFiles\" :key=\"file.id\">\n            <a :href=\"file.path\" target=\"_blank\">\n              <v-img\n                title=\"pdf\"\n                fluid\n                aspect-ratio=\"1\"\n                :src=\"require('@/assets/imgs/pdf-icon.png')\"\n              ></v-img>\n            </a>\n          </v-col>\n        </v-row>\n      </template>\n    </DialogComponent>\n    <!-- AttachmentsDialog -->\n  </main>\n</template>\n\n<script>\nimport TableHeaders from \"@/helpers/TableHeaders\";\n// import { required, minLength, maxLength } from \"vuelidate/lib/validators\";\nimport {\n  IndexData,\n  ShowData,\n  UpdateData,\n  DeleteData\n} from \"@/helpers/apiMethods\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  name: \"order\",\n\n  data() {\n    return {\n      headers: [],\n      orders: [],\n      tableLoading: true,\n\n      order: {},\n      orderUserInfo: [],\n      orderInfo: [],\n      orderStatusInfo: [],\n\n      photos: [],\n      pdfFiles: [],\n\n      currentOrderId: null,\n      showOrderDialog: false,\n      attachmentsDialog: false,\n      locale: Cookies.get(\"language\"),\n\n      pagination: {},\n      queries: {}\n    };\n  },\n  mounted() {\n    this.createTableHeaders();\n    // this.getOrders();\n  },\n  watch: {\n    $route: {\n      handler(route) {\n        this.queries = {\n          ...route.query\n        };\n        this.getOrders();\n      },\n      immediate: true\n    },\n    attachmentsDialog: {\n      handler(value) {\n        if (!value) {\n          this.photos = [];\n          this.pdfFiles = [];\n        }\n      },\n      immediate: true\n    },\n    showOrderDialog: {\n      handler(value) {\n        if (!value) {\n          this.getOrders();\n        }\n      }\n    }\n  },\n  methods: {\n    createTableHeaders() {\n      const headersList = [\n        \"user_name\",\n        \"user_email\",\n        \"type\",\n        \"order_data_name\",\n        \"seen\",\n        \"closed\",\n        \"handle_close\",\n        \"actions\"\n      ];\n      this.headers = TableHeaders(headersList);\n    },\n    getOrders() {\n      IndexData({ reqName: `orders`, query: this.queries })\n        .then(res => {\n          const { data, meta } = res.data;\n          this.orders = data;\n          this.pagination = meta;\n          console.log(\"test meta\", meta);\n        })\n        .catch(err => {\n          console.log(err);\n        })\n        .finally(() => {\n          this.tableLoading = false;\n        });\n    },\n    handleShow({ id }) {\n      this.currentOrderId = id;\n      this.showOrderDialog = true;\n\n      this.getOrderData();\n    },\n    // fireLocaleChange(locale) {\n    //   this.locale = locale;\n    //   this.order = {};\n    //   this.resetOrderArrays();\n    //   this.getOrderData();\n    // },\n    getOrderData() {\n      ShowData({\n        reqName: \"orders\",\n        id: this.currentOrderId,\n        locale: this.locale\n      })\n        .then(res => {\n          const { order } = res.data;\n          this.order = { ...order };\n          this.handleShowOrderStructure();\n        })\n        .catch(err => {\n          this.closeOrderDialog();\n          console.log(err);\n        });\n    },\n\n    handleShowOrderStructure() {\n      this.resetOrderArrays();\n\n      // User Info\n      this.orderUserInfo.push(\n        { key: \"user_name\", data: this.order.user_name },\n        { key: \"user_email\", data: this.order.user_email },\n        {\n          key: \"user_phone\",\n          data: this.order.user_phone\n            ? { ...this.order.user_phone }\n            : { empty: true }\n        }\n      );\n\n      this.orderUserInfo.forEach(info => {\n        delete this.order[info.key];\n      });\n\n      // Status Info\n      this.orderStatusInfo.push(\n        {\n          key: \"seen\",\n          data: this.order.seen ? { ...this.order.seen } : { empty: true }\n        },\n        {\n          key: \"closed\",\n          data: this.order.closed ? { ...this.order.closed } : { empty: true }\n        }\n      );\n\n      this.orderStatusInfo.forEach(info => {\n        delete this.order[info.key];\n      });\n\n      // delete non important\n      delete this.order.order_data;\n\n      Object.keys(this.order).forEach(key => {\n        if (key === \"extra_services\") {\n          let extraS = \"\";\n          this.order[key].forEach(extra => {\n            extraS += extra.name + \" - \";\n          });\n          extraS = extraS.slice(0, -2);\n          this.orderInfo.push({ key: key, data: extraS });\n        } else if (key != \"id\" && key != \"attachments\") {\n          this.orderInfo.push({ key: key, data: this.order[key] });\n        }\n      });\n    },\n\n    handleCloseOrder({ id, closed }) {\n      this.popUp().then(value => {\n        if (!value.dismiss) {\n          let formData = new FormData();\n\n          // standards\n          let isClosed = closed ? \"yes\" : \"no\";\n          formData.append(\"closed\", isClosed);\n          formData.append(\"_method\", \"PUT\");\n          formData.append(\"locale\", this.locale);\n\n          UpdateData({ reqName: \"orders\", id: id, data: formData })\n            .then(() => {\n              this.getOrders();\n            })\n            .catch(err => console.log(err));\n        }\n      });\n    },\n\n    showAttachments({ attachments }) {\n      this.closeOrderDialog();\n      this.attachmentsDialog = true;\n\n      attachments.map(el => {\n        if (el.type === \"photo\") {\n          this.photos.push(el);\n        } else if (el.type === \"file\") {\n          this.pdfFiles.push(el);\n        }\n      });\n    },\n\n    handleDelete({ id }, index) {\n      this.popUp().then(value => {\n        if (!value.dismiss) {\n          DeleteData({ reqName: \"orders\", id: id })\n            .then(() => {\n              this.orders.splice(index, 1);\n            })\n            .catch(err => console.log(err));\n        }\n      });\n    },\n\n    handlePagination(value) {\n      this.queries.page = value;\n      this.$router.push({ query: this.queries });\n    },\n    closeOrderDialog() {\n      this.showOrderDialog = false;\n      this.resetOrder();\n    },\n    resetOrder() {\n      this.order = {};\n      this.resetOrderArrays();\n\n      this.locale = Cookies.get(\"language\");\n      this.currentOrderId = null;\n    },\n    resetOrderArrays() {\n      this.orderUserInfo = [];\n      this.orderInfo = [];\n      this.orderStatusInfo = [];\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=53e5ea80&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VDataTable,VDialog,VDivider,VIcon,VImg,VPagination,VProgressCircular,VRow,VSpacer})\n"],"sourceRoot":""}