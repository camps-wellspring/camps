(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15bf7aca"],{"4bd4":function(t,e,i){"use strict";var a=i("58df"),s=i("7e2b"),o=i("3206");e["a"]=Object(a["a"])(s["a"],Object(o["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>{return t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0})},i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))}):i.valid=e(t),i},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const i=this.watchers.find(t=>t._uid===e._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"6c32":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",[i("v-toolbar",{staticClass:"mb-4",attrs:{flat:"",color:"white"}},[i("v-toolbar-title",[t._v(t._s(t.$t("heading.topics")))]),i("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("\n      "+t._s(t.$t("button.create"))+"\n    ")])],1),i("wrapping-table",{ref:"table_ref",attrs:{headersName:t.$options.headersName,pathName:"topics"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,s=e.index;return[i("td",[t._v(t._s(a.name))]),i("td",[i("v-icon",{attrs:{small:"",title:"edit"},on:{click:function(e){return t.handleEdit(a,s)}}},[t._v(" mdi-pencil")]),i("v-icon",{attrs:{small:"",title:"delete"},on:{click:function(e){return t.handleDelete(a,s)}}},[t._v(" mdi-delete")])],1)]}}])}),i("DialogComponent",{scopedSlots:t._u([{key:"heading",fn:function(){return[i("v-card-title",[t._v(t._s(t.dialogTitle))])]},proxy:!0},{key:"body",fn:function(){return[t.isEdited?i("v-col",{attrs:{cols:"12"}},[i("locale-select",{on:{change:t.fireLocaleChange}})],1):t._e(),i("v-container",[i("form-wrapper",{attrs:{validator:t.$v.form}},[i("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("v-col",{attrs:{cols:"12"}},[i("TextField",{attrs:{model:t.form,fieldName:"name"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-btn",{staticClass:"primary",attrs:{type:"submit",disabled:t.$v.form.$invalid,loading:t.btnLoading}},[t._v(t._s(t.$t("button.save")))]),i("v-btn",{staticClass:"warning mx-2",on:{click:function(e){t.dialog=!t.dialog}}},[t._v(t._s(t.$t("button.close")))])],1)],1)],1)],1)]},proxy:!0}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)},s=[],o=i("b5ae"),r=i("2cc4"),n=i("a78e"),l=i.n(n),d={headersName:["name","configs"],name:"Topcis",data(){return{isEdited:!1,btnLoading:!1,dialog:!1,form:{name:""},topicId:"",topicIndex:"",locale:l.a.get("language")}},methods:{fireLocaleChange(t){this.locale=t,this.handleShowData(t)},handleCreateState(){Object(r["d"])({reqName:"topics",data:this.form}).then(t=>{const{topic:e}=t.data;this.$refs.table_ref.items.push(e),this.resetDialog()}).catch(t=>console.log(t)).finally(()=>{this.btnLoading=!1})},handleUpdateState(){Object(r["e"])({reqName:"topics",data:{...this.form,_method:"put",locale:this.locale},id:this.topicId}).then(t=>{const{topic:e}=t.data,{items:i}=this.$refs.table_ref;this.$set(i,this.topicIndex,e),this.resetDialog(),console.log(e)}).catch(t=>console.log(t)).finally(()=>{this.btnLoading=!1})},handleShowData(t){Object(r["c"])({reqName:"topics",id:this.topicId,locale:t}).then(t=>{const{topic:e}=t.data;this.form=e,console.log(t)}).catch(t=>console.log(t))},resetDialog(){this.$v.form.$reset(),this.form={},this.btnLoading=!1,this.dialog=!1,this.isEdited=!1,this.$store.dispatch("ClearServerErrors")},handleSubmit(){this.btnLoading=!0,this.isEdited?this.handleUpdateState():this.handleCreateState()},handleDelete({id:t},e){this.$refs.table_ref.handleDelete(t,e)},handleEdit({id:t},e){this.topicId=t,this.topicIndex=e,this.dialog=!0,this.isEdited=!0,this.handleShowData(this.locale)}},validations:{form:{name:{required:o["required"],minLength:Object(o["minLength"])(3),maxLength:Object(o["maxLength"])(50)}}},computed:{dialogTitle(){return this.isEdited?this.$t("heading.edit"):this.$t("heading.create")}},watch:{dialog:{handler(t){t||this.resetDialog()},immediate:!0}}},h=d,c=i("2877"),u=i("6544"),m=i.n(u),p=i("8336"),f=i("99d9"),g=i("62ad"),v=i("a523"),b=i("ce7e"),_=i("4bd4"),$=i("132d"),w=i("2fa4"),V=i("71d9"),E=i("2a7f"),y=Object(c["a"])(h,a,s,!1,null,null,null);e["default"]=y.exports;m()(y,{VBtn:p["a"],VCardTitle:f["c"],VCol:g["a"],VContainer:v["a"],VDivider:b["a"],VForm:_["a"],VIcon:$["a"],VSpacer:w["a"],VToolbar:V["a"],VToolbarTitle:E["b"]})}}]);
//# sourceMappingURL=chunk-15bf7aca.0455aa62.js.map