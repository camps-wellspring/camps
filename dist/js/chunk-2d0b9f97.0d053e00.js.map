{"version":3,"sources":["webpack:///./src/views/works/action.vue?f808","webpack:///src/views/works/action.vue","webpack:///./src/views/works/action.vue?d4a2","webpack:///./src/views/works/action.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","formTitle","$route","params","on","fireLocaleChange","_e","$v","form","$event","preventDefault","handleSubmit","logo","path","resetImage","logoSize","id","handleselectLogo","main_media","mainImageSize","handleSelectMainImage","videosFiles","videos","handleSetVideo","photosMaxSize","getPhotos","setPhotos","handleDeletePhoto","myPlatforms","$invalid","btnLoading","$t","staticRenderFns","name","components","MainInfo","Platform","description","priority","photos","platforms_ids","work_url","updateData","mediaPhotos","logoChange","mainMediaChanged","multiImageChanged","videoChanged","locale","get","showWorkData","methods","slug","reqName","then","res","work","data","media","platforms","video","map","el","type","main","title","push","catch","err","console","log","$reset","index","splice","photo","createWork","updateWork","file","formData","FormData","append","length","url","buildData","$router","go","finally","required","minLength","maxLength","numeric","computed","watch","immediate","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VDivider","VRow","VSubheader","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0b9f97.0d053e00.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"form-page\"},[_c('v-toolbar',{staticClass:\"mb-4\",attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.formTitle))]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"inset\":\"\",\"vertical\":\"\"}})],1),_c('v-container',[(_vm.$route.params.slug)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('locale-select',{on:{\"change\":_vm.fireLocaleChange}})],1):_vm._e(),_c('form-wrapper',{attrs:{\"validator\":_vm.$v.form}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('MainInfo',{attrs:{\"form\":_vm.form}}),_c('v-card',[_c('v-card-title',[_vm._v(\"Media\")]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-subheader',[_vm._v(\"logo\")]),_c('new-image-upload',{staticClass:\"file-upload__image\",attrs:{\"imgUrl\":_vm.form.logo ? _vm.form.logo.path : '',\"resetToggle\":_vm.resetImage,\"maxSize\":_vm.logoSize,\"imgId\":_vm.form.logo ? _vm.form.logo.id : null},on:{\"fileSelected\":_vm.handleselectLogo}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-subheader',[_vm._v(\"Main Image\")]),_c('new-image-upload',{staticClass:\"file-upload__image\",attrs:{\"imgUrl\":_vm.form.main_media ? _vm.form.main_media.path : '',\"resetToggle\":_vm.resetImage,\"maxSize\":_vm.mainImageSize,\"imgId\":_vm.form.main_media ? _vm.form.main_media.id : null},on:{\"fileSelected\":_vm.handleSelectMainImage}})],1),_c('upload-video',{attrs:{\"videosFiles\":_vm.videosFiles,\"updatedVideos\":_vm.form.videos},on:{\"set_videos\":_vm.handleSetVideo}}),_c('v-col',{staticClass:\"mt-3\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('multi-image-upload',{attrs:{\"maxSize\":_vm.photosMaxSize,\"imgsUrl\":_vm.getPhotos()},on:{\"fileSelected\":_vm.setPhotos,\"handle_delete_image\":_vm.handleDeletePhoto}})],1)],1)],1)],1),_c('Platform',{attrs:{\"form\":_vm.form,\"myPlatforms\":_vm.myPlatforms}}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.$v.form.$invalid,\"loading\":_vm.btnLoading}},[_vm._v(_vm._s(_vm.$t(\"button.save\")))])],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"form-page\">\n    <v-toolbar flat color=\"white\" class=\"mb-4\">\n      <v-toolbar-title>{{ formTitle }}</v-toolbar-title>\n      <v-divider class=\"mx-2\" inset vertical></v-divider>\n    </v-toolbar>\n    <v-container>\n      <v-col cols=\"12\" v-if=\"$route.params.slug\">\n        <locale-select @change=\"fireLocaleChange\" />\n      </v-col>\n      <form-wrapper :validator=\"$v.form\">\n        <form @submit.prevent=\"handleSubmit\">\n          <!-- main info componennt -->\n          <MainInfo :form=\"form\" />\n          <!-- main info componennt -->\n\n          <v-card>\n            <v-card-title>Media</v-card-title>\n            <v-card-text>\n              <v-row>\n                <v-col cols=\"12\" md=\"6\">\n                  <v-subheader>logo</v-subheader>\n                  <new-image-upload\n                    class=\"file-upload__image\"\n                    :imgUrl=\"form.logo ? form.logo.path : ''\"\n                    :resetToggle=\"resetImage\"\n                    @fileSelected=\"handleselectLogo\"\n                    :maxSize=\"logoSize\"\n                    :imgId=\"form.logo ? form.logo.id : null\"\n                  />\n                </v-col>\n                <v-col cols=\"12\" md=\"6\">\n                  <v-subheader>Main Image</v-subheader>\n                  <new-image-upload\n                    class=\"file-upload__image\"\n                    :imgUrl=\"form.main_media ? form.main_media.path : ''\"\n                    :resetToggle=\"resetImage\"\n                    @fileSelected=\"handleSelectMainImage\"\n                    :maxSize=\"mainImageSize\"\n                    :imgId=\"form.main_media ? form.main_media.id : null\"\n                  />\n                </v-col>\n                <upload-video\n                  @set_videos=\"handleSetVideo\"\n                  :videosFiles=\"videosFiles\"\n                  :updatedVideos=\"form.videos\"\n                />\n\n                <v-col cols=\"12\" md=\"6\" class=\"mt-3\">\n                  <multi-image-upload\n                    :maxSize=\"photosMaxSize\"\n                    :imgsUrl=\"getPhotos()\"\n                    @fileSelected=\"setPhotos\"\n                    @handle_delete_image=\"handleDeletePhoto\"\n                  />\n                </v-col>\n              </v-row>\n            </v-card-text>\n          </v-card>\n          <!-- platform component -->\n          <Platform :form=\"form\" :myPlatforms=\"myPlatforms\" />\n          <!-- platform component -->\n          <v-col cols=\"12\">\n            <v-btn\n              type=\"submit\"\n              class=\"primary\"\n              :disabled=\"$v.form.$invalid\"\n              :loading=\"btnLoading\"\n              >{{ $t(\"button.save\") }}</v-btn\n            >\n          </v-col>\n        </form>\n      </form-wrapper>\n    </v-container>\n  </main>\n</template>\n\n<script>\nimport {\n  required,\n  minLength,\n  maxLength,\n  numeric,\n  url,\n  requiredIf\n} from \"vuelidate/lib/validators\";\nimport { StoreData, ShowData, UpdateData } from \"@/helpers/apiMethods\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  name: \"CreateAndEdit\",\n  components: {\n    MainInfo: () => import(\"./components/MainInfo\"),\n    Platform: () => import(\"./components/Platform\")\n  },\n  provide() {\n    return {\n      $v: this.$v\n    };\n  },\n  data() {\n    return {\n      form: {\n        name: \"\",\n        description: \"\",\n        priority: \"\",\n        logo: \"\",\n        photos: [],\n        platforms_ids: \"\",\n        work_url: \"\",\n        main_media: \"\",\n        videos: []\n      },\n      updateData: {},\n      videosFiles: [],\n      mediaPhotos: [],\n      myPlatforms: [],\n      logoSize: 1.24,\n      mainImageSize: 2.48,\n      photosMaxSize: 1.24,\n      resetImage: false,\n      btnLoading: false,\n      logoChange: false,\n      mainMediaChanged: false,\n      multiImageChanged: false,\n      videoChanged: false,\n      locale: Cookies.get(\"language\")\n    };\n  },\n  mounted() {\n    this.showWorkData();\n  },\n  methods: {\n    fireLocaleChange(locale) {\n      this.locale = locale;\n      this.showWorkData();\n    },\n    handleSetVideo(videos) {\n      this.videoChanged = true;\n      this.form.videos = videos;\n    },\n\n    showWorkData() {\n      const { slug } = this.$route.params;\n      if (this.$route.name === \"edit_work\") {\n        ShowData({ reqName: \"works\", id: slug, locale: this.locale })\n          .then(res => {\n            const { work } = res.data;\n            const {\n              name,\n              description,\n              logo,\n              media,\n              platforms,\n              main_media,\n              priority\n            } = work;\n            this.updateData = work;\n            this.form = {\n              name,\n              description,\n              logo,\n              main_media,\n              priority,\n              video: \"\",\n              platforms_ids: \"\",\n              work_url: \"\",\n              videos: []\n            };\n            this.myPlatforms = platforms;\n\n            this.mediaPhotos = [];\n\n            media.map(el => {\n              if (el.type === \"photo\") {\n                if (!el.main && el.title !== \"logo\") {\n                  this.mediaPhotos.push(el);\n                }\n              } else {\n                this.videosFiles.push(el);\n                this.form.videos.push(el);\n              }\n            });\n          })\n          .catch(err => console.log(err));\n      }\n    },\n    resetData() {\n      this.$v.form.$reset();\n      this.form = {};\n    },\n\n    handleDeletePhoto(index) {\n      //   this.form.media.splice(index, 1);\n      this.mediaPhotos.splice(index, 1);\n    },\n    getPhotos() {\n      if (this.mediaPhotos) {\n        return this.mediaPhotos;\n      }\n    },\n    setPhotos(photo) {\n      this.form.photos = photo;\n      this.multiImageChanged = true;\n    },\n    handleSubmit() {\n      this.btnLoading = true;\n      if (this.$route.name === \"create_work\") {\n        // in case create\n        this.createWork();\n      } else {\n        // in case update\n        this.updateWork();\n      }\n    },\n\n    handleSelectMainImage(photo) {\n      this.form.main_media = photo.file;\n      this.mainMediaChanged = true;\n    },\n    handleselectLogo(photo) {\n      this.form.logo = photo.file;\n      this.logoChange = true;\n    },\n    buildData() {\n      const formData = new FormData();\n      const {\n        name,\n        description,\n        main_media,\n        photos,\n        priority,\n        logo,\n        videos\n      } = this.form;\n\n      !this.$route.params.slug && formData.append(\"main_media\", main_media);\n      formData.append(\"name\", name);\n      description && formData.append(\"description\", description);\n      formData.append(\"priority\", priority);\n      !this.$route.params.slug && formData.append(\"logo\", logo);\n\n      this.multiImageChanged &&\n        photos.map(el => formData.append(\"photos[]\", el));\n      this.videoChanged && videos.map(el => formData.append(\"videos[]\", el));\n      this.myPlatforms.length &&\n        this.myPlatforms.map((el, index) => {\n          formData.append(`platforms[${index}][id]`, el.id);\n          formData.append(`platforms[${index}][url]`, el.url);\n        });\n      formData.append(\"visible\", true);\n      this.$route.params.slug && formData.append(\"locale\", this.locale);\n      this.$route.name === \"edit_work\" && formData.append(\"_method\", \"put\");\n      return formData;\n    },\n    createWork() {\n      const formData = this.buildData();\n      StoreData({ reqName: \"works\", data: formData })\n        .then(() => {\n          this.$router.go(-1);\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          this.btnLoading = false;\n        });\n    },\n    updateWork() {\n      const formData = this.buildData();\n      UpdateData({\n        reqName: \"works\",\n        data: formData,\n        id: this.$route.params.slug\n      })\n        .then(() => {\n          this.$router.go(-1);\n          this.videoChanged = false;\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          this.btnLoading = false;\n        });\n    }\n  },\n  validations() {\n    return {\n      form: {\n        name: {\n          required,\n          minLength: minLength(3),\n          maxLength: maxLength(150)\n        },\n        description: {\n          minLength: minLength(3),\n          maxLength: maxLength(500)\n        },\n        priority: {\n          required,\n          numeric\n        },\n        logo: {\n          required\n        },\n        platforms_ids: {\n          required: requiredIf(el => {\n            return el.work_url !== \"\";\n          })\n        },\n        work_url: {\n          url,\n          required: requiredIf(el => {\n            return el.platforms_ids !== \"\";\n          })\n        }\n      }\n    };\n  },\n  computed: {\n    formTitle() {\n      if (this.$route.name === \"create_work\") {\n        return this.$t(\"heading.create\");\n      } else {\n        return this.$t(\"heading.edit\");\n      }\n    }\n  },\n  watch: {\n    form: {\n      handler(form) {\n        this.form = form;\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action.vue?vue&type=template&id=4f6aba15&\"\nimport script from \"./action.vue?vue&type=script&lang=js&\"\nexport * from \"./action.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VDivider,VRow,VSubheader,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}