(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8bd7"],{"55bc":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("Platforms")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{md:"4"}},[a("form-group",{attrs:{name:"platforms_ids"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.attrs,l=e.listeners;return a("v-select",t._g(t._b({attrs:{items:t.items,"item-text":"name","item-value":"id",outlined:"",loading:t.selectLoading,label:t.$t("label.platforms")},model:{value:t.form.platforms_ids,callback:function(e){t.$set(t.form,"platforms_ids",e)},expression:"form.platforms_ids"}},"v-select",r,!1),l))}}])})],1),a("v-col",{attrs:{md:"6"}},[a("form-group",{attrs:{name:"work_url",attribute:"label.url"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.attrs,l=e.listeners;return a("v-text-field",t._g(t._b({attrs:{outlined:"",label:t.$t("label.url")},model:{value:t.form.work_url,callback:function(e){t.$set(t.form,"work_url",e)},expression:"form.work_url"}},"v-text-field",r,!1),l))}}])})],1),a("v-col",{attrs:{md:"2"}},[a("v-btn",{staticClass:"primary",attrs:{disabled:t.handleValidPlatforms(),large:""},on:{click:t.handleAddPlatforms}},[t._v(t._s(t.$t("button.add")))])],1)],1),a("transition",{attrs:{name:"fadeIn",mode:"in-out"}},[t.myPlatforms.length>0?a("v-data-table",{attrs:{headers:t.headers,items:t.myPlatforms,"hide-default-footer":"","items-per-page":20},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item,l=e.index;return[a("tr",[a("td",[t._v(t._s(r.name))]),a("td",[t._v(t._s(r.url))]),a("td",[a("v-icon",{attrs:{medium:"",title:"delete"},on:{click:function(e){return t.handleDeletePlatForm(r,l)}}},[t._v("mdi-delete")])],1)])]}}],null,!1,1939395143)}):t._e()],1)],1)],1)],1)],1)},l=[],s=a("297e"),i=a("2cc4"),o={name:"Platform",props:{form:{type:Object,required:!0},myPlatforms:{type:Array,required:!0}},inject:["$v"],data(){return{items:[],headers:[],selectLoading:!0}},mounted(){this.handleGetPlatForms(),this.createTableHeaders()},methods:{handleGetPlatForms(){Object(i["b"])({reqName:"platforms"}).then(t=>{const{data:e}=t.data,a=e.map(t=>{return{id:t.id,name:t.name}}),r=[];this.myPlatforms.map(t=>r.push(t.id)),this.items=a.filter(t=>!r.includes(t.id))}).catch(t=>console.log(t)).finally(()=>{this.selectLoading=!1})},createTableHeaders(){const t=["name","url","configs"];this.headers=Object(s["a"])(t)},handleDeletePlatForm(t,e){this.$delete(this.myPlatforms,e),this.items.unshift(t)},handleValidPlatforms(){return this.$v.form.platforms_ids.$invalid||this.$v.form.work_url.$invalid},handleAddPlatforms(){const{work_url:t,platforms_ids:e}=this.form,a=this.items.filter(t=>t.id===e)[0];a.url=t,""!==t&&""!==e&&this.myPlatforms.push(a),this.form.work_url="",this.form.platforms_ids="",this.myPlatforms.includes(a)&&(this.items=this.items.filter(t=>t.id!==a.id)),this.$v.form.$reset()}}},d=o,n=a("2877"),m=a("6544"),f=a.n(m),c=a("8336"),u=a("b0af"),h=a("99d9"),v=a("62ad"),p=a("8fea"),_=a("132d"),b=a("0fd9"),k=a("b974"),P=a("8654"),w=Object(n["a"])(d,r,l,!1,null,null,null);e["default"]=w.exports;f()(w,{VBtn:c["a"],VCard:u["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:v["a"],VDataTable:p["a"],VIcon:_["a"],VRow:b["a"],VSelect:k["a"],VTextField:P["a"]})}}]);
//# sourceMappingURL=chunk-2d0c8bd7.40e1456e.js.map