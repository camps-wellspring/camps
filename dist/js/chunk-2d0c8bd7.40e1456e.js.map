{"version":3,"sources":["webpack:///./src/views/works/components/Platform.vue?9aac","webpack:///src/views/works/components/Platform.vue","webpack:///./src/views/works/components/Platform.vue?5a46","webpack:///./src/views/works/components/Platform.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","scopedSlots","_u","key","fn","ref","listeners","_g","_b","items","selectLoading","$t","model","value","form","callback","$$v","$set","expression","staticClass","handleValidPlatforms","on","handleAddPlatforms","_s","myPlatforms","length","headers","item","index","name","url","$event","handleDeletePlatForm","_e","staticRenderFns","props","type","Object","required","Array","inject","handleGetPlatForms","createTableHeaders","methods","reqName","then","res","data","dataPlatform","map","el","id","platformsIds","push","filter","includes","catch","err","console","log","finally","headersList","TableHeaders","$delete","unshift","$v","platforms_ids","$invalid","work_url","platFormObject","$reset","component","VBtn","VCard","VCardText","VCardTitle","VCol","VDataTable","VIcon","VRow","VSelect","VTextField"],"mappings":"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","file":"js/chunk-2d0c8bd7.40e1456e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"Platforms\")]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\"}},[_c('form-group',{attrs:{\"name\":\"platforms_ids\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nvar listeners = ref.listeners;\nreturn _c('v-select',_vm._g(_vm._b({attrs:{\"items\":_vm.items,\"item-text\":\"name\",\"item-value\":\"id\",\"outlined\":\"\",\"loading\":_vm.selectLoading,\"label\":_vm.$t('label.platforms')},model:{value:(_vm.form.platforms_ids),callback:function ($$v) {_vm.$set(_vm.form, \"platforms_ids\", $$v)},expression:\"form.platforms_ids\"}},'v-select',attrs,false),listeners))}}])})],1),_c('v-col',{attrs:{\"md\":\"6\"}},[_c('form-group',{attrs:{\"name\":\"work_url\",\"attribute\":\"label.url\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nvar listeners = ref.listeners;\nreturn _c('v-text-field',_vm._g(_vm._b({attrs:{\"outlined\":\"\",\"label\":_vm.$t('label.url')},model:{value:(_vm.form.work_url),callback:function ($$v) {_vm.$set(_vm.form, \"work_url\", $$v)},expression:\"form.work_url\"}},'v-text-field',attrs,false),listeners))}}])})],1),_c('v-col',{attrs:{\"md\":\"2\"}},[_c('v-btn',{staticClass:\"primary\",attrs:{\"disabled\":_vm.handleValidPlatforms(),\"large\":\"\"},on:{\"click\":_vm.handleAddPlatforms}},[_vm._v(_vm._s(_vm.$t(\"button.add\")))])],1)],1),_c('transition',{attrs:{\"name\":\"fadeIn\",\"mode\":\"in-out\"}},[(_vm.myPlatforms.length > 0)?_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.myPlatforms,\"hide-default-footer\":\"\",\"items-per-page\":20},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('tr',[_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.url))]),_c('td',[_c('v-icon',{attrs:{\"medium\":\"\",\"title\":\"delete\"},on:{\"click\":function($event){return _vm.handleDeletePlatForm(item, index)}}},[_vm._v(\"mdi-delete\")])],1)])]}}],null,false,1939395143)}):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>Platforms</v-card-title>\n    <v-card-text>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-row>\n            <v-col md=\"4\">\n              <form-group name=\"platforms_ids\">\n                <v-select\n                  slot-scope=\"{ attrs, listeners }\"\n                  v-bind=\"attrs\"\n                  :items=\"items\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  outlined\n                  v-model=\"form.platforms_ids\"\n                  :loading=\"selectLoading\"\n                  :label=\"$t('label.platforms')\"\n                  v-on=\"listeners\"\n                ></v-select>\n              </form-group>\n            </v-col>\n            <v-col md=\"6\">\n              <form-group name=\"work_url\" attribute=\"label.url\">\n                <v-text-field\n                  slot-scope=\"{ attrs, listeners }\"\n                  v-bind=\"attrs\"\n                  v-model=\"form.work_url\"\n                  outlined\n                  :label=\"$t('label.url')\"\n                  v-on=\"listeners\"\n                ></v-text-field>\n              </form-group>\n            </v-col>\n            <v-col md=\"2\">\n              <v-btn\n                @click=\"handleAddPlatforms\"\n                :disabled=\"handleValidPlatforms()\"\n                class=\"primary\"\n                large\n                >{{ $t(\"button.add\") }}</v-btn\n              >\n            </v-col>\n          </v-row>\n          <!-- table -->\n          <transition name=\"fadeIn\" mode=\"in-out\">\n            <v-data-table\n              v-if=\"myPlatforms.length > 0\"\n              :headers=\"headers\"\n              :items=\"myPlatforms\"\n              hide-default-footer\n              :items-per-page=\"20\"\n            >\n              <template v-slot:item=\"{ item, index }\">\n                <tr>\n                  <td>{{ item.name }}</td>\n                  <td>{{ item.url }}</td>\n                  <td>\n                    <v-icon medium title=\"delete\" @click=\"handleDeletePlatForm(item, index)\"\n                      >mdi-delete</v-icon\n                    >\n                  </td>\n                </tr>\n              </template>\n            </v-data-table>\n          </transition>\n\n          <!-- table -->\n        </v-col>\n      </v-row>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport TableHeaders from \"@/helpers/TableHeaders\";\nimport { IndexData } from \"@/helpers/apiMethods\";\nexport default {\n  name: \"Platform\",\n  props: {\n    form: {\n      type: Object,\n      required: true\n    },\n    myPlatforms: {\n      type: Array,\n      required: true\n    }\n  },\n  inject: [\"$v\"],\n  data() {\n    return {\n      items: [],\n      headers: [],\n      selectLoading: true\n    };\n  },\n  mounted() {\n    this.handleGetPlatForms();\n    this.createTableHeaders();\n  },\n  methods: {\n    handleGetPlatForms() {\n      IndexData({ reqName: \"platforms\" })\n        .then(res => {\n          const { data } = res.data;\n\n          const dataPlatform = data.map(el => {\n            return {\n              id: el.id,\n              name: el.name\n            };\n          });\n          const platformsIds = [];\n          this.myPlatforms.map(el => platformsIds.push(el.id));\n          this.items = dataPlatform.filter(el => !platformsIds.includes(el.id));\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          this.selectLoading = false;\n        });\n    },\n    createTableHeaders() {\n      const headersList = [\"name\", \"url\", \"configs\"];\n      this.headers = TableHeaders(headersList);\n    },\n    handleDeletePlatForm(item, index) {\n      this.$delete(this.myPlatforms, index);\n      this.items.unshift(item);\n    },\n    handleValidPlatforms() {\n      return this.$v.form.platforms_ids.$invalid || this.$v.form.work_url.$invalid;\n    },\n    handleAddPlatforms() {\n      const { work_url, platforms_ids } = this.form;\n      const platFormObject = this.items.filter(el => el.id === platforms_ids)[0];\n      platFormObject.url = work_url;\n\n      if (work_url !== \"\" && platforms_ids !== \"\") {\n        this.myPlatforms.push(platFormObject);\n      }\n      this.form.work_url = \"\";\n      this.form.platforms_ids = \"\";\n      if (this.myPlatforms.includes(platFormObject)) {\n        this.items = this.items.filter(el => el.id !== platFormObject.id);\n      }\n      this.$v.form.$reset();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Platform.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Platform.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Platform.vue?vue&type=template&id=060257fe&\"\nimport script from \"./Platform.vue?vue&type=script&lang=js&\"\nexport * from \"./Platform.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VDataTable,VIcon,VRow,VSelect,VTextField})\n"],"sourceRoot":""}