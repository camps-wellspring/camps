{"version":3,"sources":["webpack:///./src/views/works/index.vue?164e","webpack:///src/views/works/index.vue","webpack:///./src/views/works/index.vue?6fa6","webpack:///./src/views/works/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","on","$event","$router","push","name","headers","items","tableLoading","scopedSlots","_u","key","fn","ref","item","index","staticStyle","logo","path","showImagePreview","id","model","value","callback","$$v","$set","expression","priority","_f","description","handleFeatures","handleEdit","handleDelete","imageOverlay","currentPreviewImage","showFeaturesDialog","currentFeaturedItemId","closeFeatures","_e","length","pagination","last_page","handlePagination","staticRenderFns","components","GlobalFeatures","expanded","singleExpand","queries","createTableHeaders","methods","image","page","$route","query","slug","params","popUp","then","dismiss","reqName","$delete","catch","err","console","log","res","data","meta","finally","headersList","TableHeaders","watch","route","handleGetWorks","immediate","component","VAvatar","VBtn","VDataTable","VDialog","VDivider","VIcon","VImg","VPagination","VSpacer","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0c9012.9eb310bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('v-toolbar',{staticClass:\"mb-4\",attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"heading.works\")))]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'create_work' })}}},[_vm._v(_vm._s(_vm.$t(\"button.create\")))])],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-default-footer\":\"\",\"items-per-page\":20,\"loading\":_vm.tableLoading},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('tr',[_c('td',[_c('v-avatar',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"size\":\"40\"}},[_c('v-img',{attrs:{\"title\":_vm.$t('label.preview'),\"aspect-ratio\":\"1\",\"src\":item.logo ? item.logo.path : '@/assets/imgs/user.jpg'},on:{\"click\":function($event){return _vm.showImagePreview(item.logo)}}})],1)],1),_c('td',[_vm._v(_vm._s(item.name))]),_c('td',{staticClass:\"toggle-adjust\"},[_c('toggle-service',{attrs:{\"is-edit\":true,\"model-name\":\"works\",\"model-id\":item.id,\"field\":\"visible\",\"validate\":true},model:{value:(item.visible),callback:function ($$v) {_vm.$set(item, \"visible\", $$v)},expression:\"item.visible\"}})],1),_c('td',[_vm._v(_vm._s(item.priority))]),_c('td',[_vm._v(_vm._s(_vm._f(\"truncate\")(item.description)))]),_c('td',[_c('v-btn',{attrs:{\"title\":_vm.$t('label.features'),\"icon\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.handleFeatures(item)}}},[_c('v-icon',{staticClass:\"edit\"},[_vm._v(\"mdi-star-circle-outline\")])],1)],1),_c('td',[_c('v-icon',{attrs:{\"medium\":\"\",\"title\":\"edit\"},on:{\"click\":function($event){return _vm.handleEdit(item, index)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"medium\":\"\",\"title\":\"delete\"},on:{\"click\":function($event){return _vm.handleDelete(item, index)}}},[_vm._v(\"mdi-delete\")])],1)])]}}])}),_c('global-image-preview',{attrs:{\"showDialog\":_vm.imageOverlay,\"imagePath\":_vm.currentPreviewImage},on:{\"closePreview\":function($event){_vm.imageOverlay = false}}}),_c('v-dialog',{attrs:{\"max-width\":\"700px\"},model:{value:(_vm.showFeaturesDialog),callback:function ($$v) {_vm.showFeaturesDialog=$$v},expression:\"showFeaturesDialog\"}},[(_vm.showFeaturesDialog)?_c('global-features',{attrs:{\"FeaturedItemType\":\"work\",\"FeaturedItemId\":_vm.currentFeaturedItemId},on:{\"closeFeatures\":_vm.closeFeatures}}):_vm._e()],1),_c('div',{staticClass:\"text-xs-center mt-4\"},[(_vm.items.length > 0 && _vm.pagination.last_page > 1)?_c('v-pagination',{attrs:{\"length\":_vm.pagination.last_page,\"total-visible\":10},on:{\"input\":_vm.handlePagination},model:{value:(_vm.pagination.current_page),callback:function ($$v) {_vm.$set(_vm.pagination, \"current_page\", $$v)},expression:\"pagination.current_page\"}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main>\n    <v-toolbar flat color=\"white\" class=\"mb-4\">\n      <v-toolbar-title>{{ $t(\"heading.works\") }}</v-toolbar-title>\n      <v-divider class=\"mx-2\" inset vertical></v-divider>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" @click=\"$router.push({ name: 'create_work' })\">{{\n        $t(\"button.create\")\n      }}</v-btn>\n    </v-toolbar>\n    <!-- table -->\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"items\"\n      hide-default-footer\n      :items-per-page=\"20\"\n      :loading=\"tableLoading\"\n    >\n      <template v-slot:item=\"{ item, index }\">\n        <tr>\n          <td>\n            <v-avatar size=\"40\" style=\" cursor: pointer;\">\n              <v-img\n                :title=\"$t('label.preview')\"\n                @click=\"showImagePreview(item.logo)\"\n                aspect-ratio=\"1\"\n                :src=\"item.logo ? item.logo.path : '@/assets/imgs/user.jpg'\"\n              ></v-img>\n            </v-avatar>\n          </td>\n          <td>{{ item.name }}</td>\n          <td class=\"toggle-adjust\">\n            <toggle-service\n              :is-edit=\"true\"\n              model-name=\"works\"\n              :model-id=\"item.id\"\n              field=\"visible\"\n              v-model=\"item.visible\"\n              :validate=\"true\"\n            />\n          </td>\n          <td>{{ item.priority }}</td>\n          <td>{{ item.description | truncate }}</td>\n          <td>\n            <v-btn :title=\"$t('label.features')\" @click=\"handleFeatures(item)\" icon fab small>\n              <v-icon class=\"edit\">mdi-star-circle-outline</v-icon>\n            </v-btn>\n          </td>\n          <td>\n            <v-icon medium title=\"edit\" @click=\"handleEdit(item, index)\">mdi-pencil</v-icon>\n            <v-icon medium title=\"delete\" @click=\"handleDelete(item, index)\">mdi-delete</v-icon>\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n    <!-- Image Preview -->\n    <global-image-preview\n      :showDialog=\"imageOverlay\"\n      :imagePath=\"currentPreviewImage\"\n      @closePreview=\"imageOverlay = false\"\n    />\n    <!-- Image Preview -->\n    <!-- Dialog -->\n    <v-dialog v-model=\"showFeaturesDialog\" max-width=\"700px\">\n      <global-features\n        FeaturedItemType=\"work\"\n        v-if=\"showFeaturesDialog\"\n        :FeaturedItemId=\"currentFeaturedItemId\"\n        @closeFeatures=\"closeFeatures\"\n      ></global-features>\n    </v-dialog>\n    <!-- Dialog -->\n    <!-- table -->\n    <div class=\"text-xs-center mt-4\">\n      <v-pagination\n        v-if=\"items.length > 0 && pagination.last_page > 1\"\n        v-model=\"pagination.current_page\"\n        :length=\"pagination.last_page\"\n        :total-visible=\"10\"\n        @input=\"handlePagination\"\n      ></v-pagination>\n    </div>\n  </main>\n</template>\n\n<script>\nimport TableHeaders from \"@/helpers/TableHeaders\";\nimport { IndexData, DeleteData } from \"@/helpers/apiMethods\";\n\nimport { isEqual } from \"lodash\";\nexport default {\n  name: \"Works\",\n  components: {\n    GlobalFeatures: () => import(\"@/components/GlobalFeatures\")\n  },\n\n  data() {\n    return {\n      headers: [],\n      items: [],\n      expanded: [],\n      pagination: {},\n      singleExpand: false,\n      showFeaturesDialog: false,\n      tableLoading: true,\n      queries: {},\n      imageOverlay: false,\n      currentPreviewImage: \"\"\n    };\n  },\n  mounted() {\n    this.createTableHeaders();\n  },\n  methods: {\n    showImagePreview(image) {\n      if (image) {\n        this.currentPreviewImage = image.path;\n        this.imageOverlay = true;\n      }\n    },\n    closeFeatures() {\n      this.showFeaturesDialog = false;\n    },\n    handleFeatures({ id }) {\n      this.showFeaturesDialog = true;\n      this.currentFeaturedItemId = id;\n    },\n    handlePagination(page) {\n      this.queries = { ...this.queries, page };\n      if (!isEqual(this.queries, this.$route.query)) {\n        this.$router.push({ query: this.queries });\n      }\n    },\n    handleEdit({ slug }) {\n      this.$router.push({ name: \"edit_work\", params: { slug } });\n    },\n    handleDelete({ slug }, index) {\n      this.popUp().then(value => {\n        if (!value.dismiss) {\n          DeleteData({ reqName: \"works\", id: slug })\n            .then(() => {\n              this.$delete(this.items, index);\n            })\n            .catch(err => console.log(err));\n        }\n      });\n    },\n    handleGetWorks(query) {\n      IndexData({ reqName: \"works\", query })\n        .then(res => {\n          const { data, meta } = res.data;\n          this.items = data;\n          this.pagination = meta;\n        })\n        .catch(err => {\n          console.log(err);\n        })\n        .finally(() => {\n          this.tableLoading = false;\n        });\n    },\n    createTableHeaders() {\n      const headersList = [\n        \"logo\",\n        \"name\",\n        \"visible\",\n        \"priority\",\n        \"description\",\n        \"features\",\n        \"configs\"\n      ];\n      this.headers = TableHeaders(headersList);\n    }\n  },\n  watch: {\n    $route: {\n      handler(route) {\n        const { query } = route;\n        this.queries = query;\n        this.handleGetWorks(query);\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7b6ec0fb&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VDataTable,VDialog,VDivider,VIcon,VImg,VPagination,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}