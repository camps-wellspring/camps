{"version":3,"sources":["webpack:///./src/views/members/index.vue?eb1f","webpack:///src/views/members/index.vue","webpack:///./src/views/members/index.vue?5ef7","webpack:///./src/views/members/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","on","showDialog","headers","items","tableLoading","scopedSlots","_u","key","fn","ref","item","index","main_image","path","$event","showImagePreview","name","position","bio","_f","priority","handleEdit","handleDelete","dialogTitle","proxy","isEdit","slug","dialog","handleSetMember","handleEditedMember","handleGetMembers","handleUpdateImage","model","value","callback","$$v","expression","imageOverlay","currentPreviewImage","staticRenderFns","components","FormComponent","itemIndex","computed","createTableHeaders","methods","image","member","$set","popUp","then","dismiss","reqName","id","$delete","catch","err","console","log","push","headersList","TableHeaders","res","data","finally","component","VAvatar","VBtn","VCardTitle","VCard","VDataTable","VDivider","VIcon","VImg","VSpacer","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0d3e07.0e3f2a81.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"mb-4\",attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"heading.members\")))]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.showDialog}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t(\"button.create\"))+\"\\n    \")])],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-default-footer\":\"\",\"items-per-page\":20,\"loading\":_vm.tableLoading},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('tr',[_c('td',[_c('v-avatar',{attrs:{\"size\":\"40\"}},[_c('v-img',{staticClass:\"hover-pointer\",attrs:{\"aspect-ratio\":\"1\",\"src\":item.main_image\n                  ? item.main_image.path\n                  : '@/assets/imgs/user.jpg'},on:{\"click\":function($event){return _vm.showImagePreview(item.main_image)}}})],1)],1),_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.position))]),_c('td',{attrs:{\"title\":item.bio}},[_vm._v(_vm._s(_vm._f(\"truncate\")(item.bio)))]),_c('td',[_vm._v(_vm._s(item.priority))]),_c('td',[_c('v-icon',{attrs:{\"small\":\"\",\"title\":\"edit\"},on:{\"click\":function($event){return _vm.handleEdit(item, index)}}},[_vm._v(\"\\n            mdi-pencil\")]),_c('v-icon',{attrs:{\"small\":\"\",\"title\":\"delete\"},on:{\"click\":function($event){return _vm.handleDelete(item, index)}}},[_vm._v(\"\\n            mdi-delete\")])],1)])]}}])}),_c('DialogComponent',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('v-card-title',[_vm._v(_vm._s(_vm.dialogTitle))])]},proxy:true},{key:\"body\",fn:function(){return [_c('form-component',{attrs:{\"isEdited\":_vm.isEdit,\"slug\":_vm.slug},on:{\"click\":function($event){_vm.dialog = false},\"close_dialog\":function($event){_vm.dialog = false},\"set_memeber\":_vm.handleSetMember,\"set_edited_member\":_vm.handleEditedMember,\"toggleEdit\":function($event){_vm.isEdit = false},\"set_refresh\":_vm.handleGetMembers,\"update_main_image\":_vm.handleUpdateImage}})]},proxy:true}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}}),_c('global-image-preview',{attrs:{\"showDialog\":_vm.imageOverlay,\"imagePath\":_vm.currentPreviewImage},on:{\"closePreview\":function($event){_vm.imageOverlay = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-toolbar flat color=\"white\" class=\"mb-4\">\n      <v-toolbar-title>{{ $t(\"heading.members\") }}</v-toolbar-title>\n      <v-divider class=\"mx-2\" inset vertical></v-divider>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" @click=\"showDialog\">\n        {{ $t(\"button.create\") }}\n      </v-btn>\n    </v-toolbar>\n    <!-- table -->\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"items\"\n      hide-default-footer\n      :items-per-page=\"20\"\n      :loading=\"tableLoading\"\n    >\n      <template v-slot:item=\"{ item, index }\">\n        <tr>\n          <td>\n            <v-avatar size=\"40\">\n              <v-img\n                @click=\"showImagePreview(item.main_image)\"\n                class=\"hover-pointer\"\n                aspect-ratio=\"1\"\n                :src=\"\n                  item.main_image\n                    ? item.main_image.path\n                    : '@/assets/imgs/user.jpg'\n                \"\n              ></v-img>\n            </v-avatar>\n          </td>\n          <td>{{ item.name }}</td>\n          <td>{{ item.position }}</td>\n          <td :title=\"item.bio\">{{ item.bio | truncate }}</td>\n          <td>{{ item.priority }}</td>\n\n          <td>\n            <v-icon small title=\"edit\" @click=\"handleEdit(item, index)\">\n              mdi-pencil</v-icon\n            >\n            <v-icon small title=\"delete\" @click=\"handleDelete(item, index)\">\n              mdi-delete</v-icon\n            >\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n    <!-- table -->\n    <!-- dialog -->\n    <DialogComponent v-model=\"dialog\">\n      <template #heading>\n        <v-card-title>{{ dialogTitle }}</v-card-title>\n      </template>\n      <template #body>\n        <form-component\n          @click=\"dialog = false\"\n          @close_dialog=\"dialog = false\"\n          @set_memeber=\"handleSetMember\"\n          @set_edited_member=\"handleEditedMember\"\n          @toggleEdit=\"isEdit = false\"\n          @set_refresh=\"handleGetMembers\"\n          :isEdited=\"isEdit\"\n          :slug=\"slug\"\n          @update_main_image=\"handleUpdateImage\"\n        />\n      </template>\n    </DialogComponent>\n    <!-- dialog -->\n\n    <!-- Image Preview -->\n    <global-image-preview\n      :showDialog=\"imageOverlay\"\n      :imagePath=\"currentPreviewImage\"\n      @closePreview=\"imageOverlay = false\"\n    />\n    <!-- Image Preview -->\n  </div>\n</template>\n\n<script>\nimport TableHeaders from \"@/helpers/TableHeaders\";\nimport { IndexData, DeleteData } from \"@/helpers/apiMethods\";\nexport default {\n  name: \"Memebers\",\n  components: {\n    FormComponent: () => import(\"./formComponent\")\n  },\n  data() {\n    return {\n      slug: \"\",\n      headers: [],\n      items: [],\n      tableLoading: true,\n      dialog: false,\n      isEdit: false,\n      imageOverlay: false,\n      currentPreviewImage: \"\",\n      itemIndex: \"\"\n    };\n  },\n  computed: {\n    dialogTitle() {\n      if (this.isEdit) {\n        return this.$t(\"heading.edit\");\n      } else {\n        return this.$t(\"heading.create\");\n      }\n    }\n  },\n  mounted() {\n    this.createTableHeaders();\n    this.handleGetMembers();\n  },\n  methods: {\n    handleUpdateImage(image) {\n      this.items[this.itemIndex].main_image = image;\n      this.items = [...this.items];\n    },\n    handleEditedMember(member) {\n      this.$set(this.items, this.itemIndex, member);\n    },\n    handleEdit({ slug }, index) {\n      this.slug = slug;\n      this.itemIndex = index;\n      this.dialog = true;\n      this.isEdit = true;\n    },\n    handleDelete({ slug }, index) {\n      this.popUp().then(value => {\n        if (!value.dismiss) {\n          DeleteData({ reqName: \"members\", id: slug })\n            .then(() => {\n              this.$delete(this.items, index);\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        }\n      });\n    },\n    handleSetMember(item) {\n      this.items.push(item);\n    },\n    createTableHeaders() {\n      const headersList = [\n        \"profile\",\n        \"name\",\n        \"position\",\n        \"bio\",\n        \"priority\",\n        \"configs\"\n      ];\n      this.headers = TableHeaders(headersList);\n    },\n    handleGetMembers() {\n      IndexData({ reqName: \"members\" })\n        .then(res => {\n          const { data } = res.data;\n          this.items = data;\n        })\n        .catch(err => {\n          console.log(err);\n        })\n        .finally(() => {\n          this.tableLoading = false;\n        });\n    },\n    showDialog() {\n      this.dialog = !this.dialog;\n    },\n    showImagePreview(image) {\n      if (image) {\n        this.currentPreviewImage = image.path;\n        this.imageOverlay = true;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d2dbee7e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VCardTitle,VDataTable,VDivider,VIcon,VImg,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}