(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3e07"],{"5f44":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-toolbar",{staticClass:"mb-4",attrs:{flat:"",color:"white"}},[i("v-toolbar-title",[e._v(e._s(e.$t("heading.members")))]),i("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:e.showDialog}},[e._v("\n      "+e._s(e.$t("button.create"))+"\n    ")])],1),i("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-default-footer":"","items-per-page":20,loading:e.tableLoading},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item,s=t.index;return[i("tr",[i("td",[i("v-avatar",{attrs:{size:"40"}},[i("v-img",{staticClass:"hover-pointer",attrs:{"aspect-ratio":"1",src:a.main_image?a.main_image.path:"@/assets/imgs/user.jpg"},on:{click:function(t){return e.showImagePreview(a.main_image)}}})],1)],1),i("td",[e._v(e._s(a.name))]),i("td",[e._v(e._s(a.position))]),i("td",{attrs:{title:a.bio}},[e._v(e._s(e._f("truncate")(a.bio)))]),i("td",[e._v(e._s(a.priority))]),i("td",[i("v-icon",{attrs:{small:"",title:"edit"},on:{click:function(t){return e.handleEdit(a,s)}}},[e._v(" mdi-pencil")]),i("v-icon",{attrs:{small:"",title:"delete"},on:{click:function(t){return e.handleDelete(a,s)}}},[e._v(" mdi-delete")])],1)])]}}])}),i("DialogComponent",{scopedSlots:e._u([{key:"heading",fn:function(){return[i("v-card-title",[e._v(e._s(e.dialogTitle))])]},proxy:!0},{key:"body",fn:function(){return[i("form-component",{attrs:{isEdited:e.isEdit,slug:e.slug},on:{click:function(t){e.dialog=!1},close_dialog:function(t){e.dialog=!1},set_memeber:e.handleSetMember,set_edited_member:e.handleEditedMember,toggleEdit:function(t){e.isEdit=!1},set_refresh:e.handleGetMembers,update_main_image:e.handleUpdateImage}})]},proxy:!0}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}}),i("global-image-preview",{attrs:{showDialog:e.imageOverlay,imagePath:e.currentPreviewImage},on:{closePreview:function(t){e.imageOverlay=!1}}})],1)},s=[],n=i("297e"),o=i("2cc4"),r={name:"Memebers",components:{FormComponent:()=>i.e("chunk-2d0e4c90").then(i.bind(null,"9267"))},data(){return{slug:"",headers:[],items:[],tableLoading:!0,dialog:!1,isEdit:!1,imageOverlay:!1,currentPreviewImage:"",itemIndex:""}},computed:{dialogTitle(){return this.isEdit?this.$t("heading.edit"):this.$t("heading.create")}},mounted(){this.createTableHeaders(),this.handleGetMembers()},methods:{handleUpdateImage(e){this.items[this.itemIndex].main_image=e,this.items=[...this.items]},handleEditedMember(e){this.$set(this.items,this.itemIndex,e)},handleEdit({slug:e},t){this.slug=e,this.itemIndex=t,this.dialog=!0,this.isEdit=!0},handleDelete({slug:e},t){this.popUp().then(i=>{i.dismiss||Object(o["a"])({reqName:"members",id:e}).then(()=>{this.$delete(this.items,t)}).catch(e=>{console.log(e)})})},handleSetMember(e){this.items.push(e)},createTableHeaders(){const e=["profile","name","position","bio","priority","configs"];this.headers=Object(n["a"])(e)},handleGetMembers(){Object(o["b"])({reqName:"members"}).then(e=>{const{data:t}=e.data;this.items=t}).catch(e=>{console.log(e)}).finally(()=>{this.tableLoading=!1})},showDialog(){this.dialog=!this.dialog},showImagePreview(e){e&&(this.currentPreviewImage=e.path,this.imageOverlay=!0)}}},l=r,d=i("2877"),m=i("6544"),c=i.n(m),h=i("8212"),g=i("8336"),u=i("99d9"),b=i("8fea"),v=i("ce7e"),p=i("132d"),_=i("adda"),f=i("2fa4"),w=i("71d9"),y=i("2a7f"),k=Object(d["a"])(l,a,s,!1,null,null,null);t["default"]=k.exports;c()(k,{VAvatar:h["a"],VBtn:g["a"],VCardTitle:u["c"],VDataTable:b["a"],VDivider:v["a"],VIcon:p["a"],VImg:_["a"],VSpacer:f["a"],VToolbar:w["a"],VToolbarTitle:y["b"]})}}]);
//# sourceMappingURL=chunk-2d0d3e07.a4e3cdda.js.map