{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/components/VForm/VForm.js","webpack:///./src/views/store/projects/action/index.vue?b4ee","webpack:///./src/helpers/deepFormData.js","webpack:///src/views/store/projects/action/index.vue","webpack:///./src/views/store/projects/action/index.vue?62f0","webpack:///./src/views/store/projects/action/index.vue","webpack:///./src/mixins/imgPreview.js","webpack:///./src/mixins/switchLocale.js"],"names":["extend","name","inheritAttrs","props","lazyValidation","Boolean","value","data","inputs","watchers","errorBag","watch","val","errors","Object","values","includes","this","$emit","deep","immediate","methods","input","watcher","$watch","$set","_uid","valid","shouldValidate","hasOwnProperty","filter","validate","length","forEach","reset","resetErrorBag","setTimeout","resetValidation","push","watchInput","found","find","i","unwatch","$delete","h","staticClass","attrs","novalidate","attrs$","on","submit","e","$slots","default","render","_vm","_h","$createElement","_c","_self","actionType","loading","fetch","handleLocaleChange","_e","$v","form","$event","preventDefault","onSubmit","_v","_s","$t","scopedSlots","_u","key","fn","ref","_b","$touch","model","callback","$$v","expression","main_media","path","id","handleImgSelect","description","trim","short_description","mediaPhotos","photos","splice","options","demos","pushToTable","removeFromTable","platforms","additionalOptions","categories","technologies","$invalid","currImg","imgPreviewDialog","closePreview","staticRenderFns","deepFormData","payload","FormData","el","File","append","Array","some","obj","prop","item","components","Demos","Media","Platforms","Options","mixins","switchLocale","imgPreview","computed","$route","params","slug","required","minLength","maxLength","minWords","maxWords","fetchOptions","fetchProject","keys","reqName","then","res","map","project","$router","catch","img","file","newItem","field","index","findIndex","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VForm","VRow","VTextField","VTextarea","locale","$store","getters","config","modelName","currItem","idType"],"mappings":"kHAAA,wCAMe,sBAAO,OAAY,eAAmB,SAEnDA,OAAO,CACPC,KAAM,SACNC,cAAc,EACdC,MAAO,CACLC,eAAgBC,QAChBC,MAAOD,SAETE,KAAM,KAAM,CACVC,OAAQ,GACRC,SAAU,GACVC,SAAU,KAEZC,MAAO,CACLD,SAAU,CACR,QAAQE,GACN,MAAMC,EAASC,OAAOC,OAAOH,GAAKI,UAAS,GAC3CC,KAAKC,MAAM,SAAUL,IAGvBM,MAAM,EACNC,WAAW,IAGfC,QAAS,CACP,WAAWC,GACT,MAAMC,EAAUD,IACd,OAAOA,EAAME,OAAO,WAAYZ,IAC9BK,KAAKQ,KAAKR,KAAKP,SAAUY,EAAMI,KAAMd,IACpC,CACDQ,WAAW,KAITX,EAAW,CACfiB,KAAMJ,EAAMI,KACZC,MAAO,OACPC,eAAgB,QAelB,OAZIX,KAAKb,eAEPK,EAASmB,eAAiBN,EAAME,OAAO,iBAAkBZ,IAClDA,IAEDK,KAAKP,SAASmB,eAAeP,EAAMI,QACvCjB,EAASkB,MAAQJ,EAAQD,OAG3Bb,EAASkB,MAAQJ,EAAQD,GAGpBb,GAIT,WACE,OAAqE,IAA9DQ,KAAKT,OAAOsB,OAAOR,IAAUA,EAAMS,UAAS,IAAOC,QAI5D,QACEf,KAAKT,OAAOyB,QAAQX,GAASA,EAAMY,SACnCjB,KAAKkB,iBAGP,gBACMlB,KAAKb,gBAEPgC,WAAW,KACTnB,KAAKP,SAAW,IACf,IAKP,kBACEO,KAAKT,OAAOyB,QAAQX,GAASA,EAAMe,mBACnCpB,KAAKkB,iBAGP,SAASb,GACPL,KAAKT,OAAO8B,KAAKhB,GACjBL,KAAKR,SAAS6B,KAAKrB,KAAKsB,WAAWjB,KAGrC,WAAWA,GACT,MAAMkB,EAAQvB,KAAKT,OAAOiC,KAAKC,GAAKA,EAAEhB,OAASJ,EAAMI,MACrD,IAAKc,EAAO,OACZ,MAAMG,EAAU1B,KAAKR,SAASgC,KAAKC,GAAKA,EAAEhB,OAASc,EAAMd,MAErDiB,IACFA,EAAQhB,QACRgB,EAAQf,kBAGVX,KAAKR,SAAWQ,KAAKR,SAASqB,OAAOY,GAAKA,EAAEhB,OAASc,EAAMd,MAC3DT,KAAKT,OAASS,KAAKT,OAAOsB,OAAOY,GAAKA,EAAEhB,OAASc,EAAMd,MACvDT,KAAK2B,QAAQ3B,KAAKP,SAAU8B,EAAMd,QAKtC,OAAOmB,GACL,OAAOA,EAAE,OAAQ,CACfC,YAAa,SACbC,MAAO,CACLC,YAAY,KACT/B,KAAKgC,QAEVC,GAAI,CACFC,OAAQC,GAAKnC,KAAKC,MAAM,SAAUkC,KAEnCnC,KAAKoC,OAAOC,a,yCCxHnB,IAAIC,EAAS,WAAa,IAAIC,EAAIvC,KAASwC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACb,YAAY,aAAa,CAACa,EAAG,cAAc,CAAqB,WAAnBH,EAAIK,WAAyBF,EAAG,gBAAgB,CAACZ,MAAM,CAAC,QAAUS,EAAIM,QAAQC,OAAOb,GAAG,CAAC,OAASM,EAAIQ,sBAAsBR,EAAIS,KAAKN,EAAG,eAAe,CAACZ,MAAM,CAAC,UAAYS,EAAIU,GAAGC,OAAO,CAACR,EAAG,SAAS,CAACT,GAAG,CAAC,OAAS,SAASkB,GAAgC,OAAxBA,EAAOC,iBAAwBb,EAAIc,SAASF,MAAW,CAACT,EAAG,SAAS,CAACA,EAAG,eAAe,CAACH,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIiB,GAAG,yBAAyBd,EAAG,cAAc,CAACA,EAAG,cAAc,CAACZ,MAAM,CAAC,MAAQ,KAAK,CAACY,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACZ,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACY,EAAG,aAAa,CAACZ,MAAM,CAAC,KAAO,QAAQ2B,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACxsB,IAAI/B,EAAQ+B,EAAI/B,MAChB,MAAO,CAACY,EAAG,eAAeH,EAAIuB,GAAG,CAAChC,MAAM,CAAC,SAAW,GAAG,MAAQS,EAAIiB,GAAG,eAAevB,GAAG,CAAC,KAAO,SAASkB,GAAQ,OAAOZ,EAAIU,GAAGC,KAAKlE,KAAK+E,WAAWC,MAAM,CAAC3E,MAAOkD,EAAIW,KAAS,KAAEe,SAAS,SAAUC,GAAM3B,EAAI/B,KAAK+B,EAAIW,KAAM,OAAQgB,IAAMC,WAAW,cAAc,eAAerC,GAAM,YAAgB,GAAGY,EAAG,QAAQ,CAACZ,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACY,EAAG,aAAa,CAACZ,MAAM,CAAC,KAAO,cAAc2B,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACnb,IAAI/B,EAAQ+B,EAAI/B,MAChB,MAAO,CAACY,EAAG,mBAAmBH,EAAIuB,GAAG,CAACjC,YAAY,qBAAqBC,MAAM,CAAC,OAASS,EAAIW,KAAKkB,YAAc7B,EAAIW,KAAKkB,WAAWC,KAAK,MAAQ9B,EAAIW,KAAKkB,YAAc7B,EAAIW,KAAKkB,WAAWE,IAAIrC,GAAG,CAAC,aAAeM,EAAIgC,kBAAkB,mBAAmBzC,GAAM,YAAgB,GAAGY,EAAG,QAAQ,CAACZ,MAAM,CAAC,KAAO,OAAO,CAACY,EAAG,aAAa,CAACZ,MAAM,CAAC,KAAO,eAAe2B,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAClZ,IAAI/B,EAAQ+B,EAAI/B,MAChB,MAAO,CAACY,EAAG,aAAaH,EAAIuB,GAAG,CAAChC,MAAM,CAAC,SAAW,GAAG,YAAY,GAAG,YAAY,GAAG,MAAQS,EAAIiB,GAAG,sBAAsBvB,GAAG,CAAC,KAAO,SAASkB,GAAQ,OAAOZ,EAAIU,GAAGC,KAAKsB,YAAYT,WAAWC,MAAM,CAAC3E,MAAOkD,EAAIW,KAAgB,YAAEe,SAAS,SAAUC,GAAM3B,EAAI/B,KAAK+B,EAAIW,KAAM,cAA+B,kBAARgB,EAAkBA,EAAIO,OAAQP,IAAOC,WAAW,qBAAqB,aAAarC,GAAM,YAAgB,GAAGY,EAAG,QAAQ,CAACZ,MAAM,CAAC,KAAO,OAAO,CAACY,EAAG,aAAa,CAACZ,MAAM,CAAC,KAAO,qBAAqB2B,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACrhB,IAAI/B,EAAQ+B,EAAI/B,MAChB,MAAO,CAACY,EAAG,aAAaH,EAAIuB,GAAG,CAAChC,MAAM,CAAC,SAAW,GAAG,YAAY,GAAG,KAAO,IAAI,MAAQS,EAAIiB,GAAG,4BAA4BvB,GAAG,CAAC,KAAO,SAASkB,GAAQ,OAAOZ,EAAIU,GAAGC,KAAKwB,kBAAkBX,WAAWC,MAAM,CAAC3E,MAAOkD,EAAIW,KAAsB,kBAAEe,SAAS,SAAUC,GAAM3B,EAAI/B,KAAK+B,EAAIW,KAAM,oBAAqC,kBAARgB,EAAkBA,EAAIO,OAAQP,IAAOC,WAAW,2BAA2B,aAAarC,GAAM,YAAgB,IAAI,IAAI,IAAI,IAAI,GAAGY,EAAG,QAAQ,CAACZ,MAAM,CAAC,OAASS,EAAIoC,aAAa1C,GAAG,CAAC,YAAc,SAASkB,GAAQZ,EAAIW,KAAK0B,OAASzB,GAAQ,WAAa,SAASA,GAAQ,OAAOZ,EAAIW,KAAK0B,OAAOC,OAAO1B,EAAQ,OAAOT,EAAG,QAAQ,CAACZ,MAAM,CAAC,aAAaS,EAAIuC,QAAQ,cAAc,cAAcvC,EAAIW,KAAK6B,OAAO9C,GAAG,CAAC,QAAUM,EAAIyC,YAAY,WAAazC,EAAI0C,mBAAmBvC,EAAG,YAAY,CAACZ,MAAM,CAAC,UAAYS,EAAIuC,QAAQI,UAAU,kBAAkB3C,EAAIW,KAAKgC,WAAWjD,GAAG,CAAC,YAAcM,EAAIyC,YAAY,eAAiBzC,EAAI0C,mBAAmBvC,EAAG,UAAU,CAACZ,MAAM,CAAC,QAAUS,EAAI4C,mBAAmBlD,GAAG,CAAC,kBAAoB,SAASkB,GAAQZ,EAAIW,KAAKkC,WAAajC,GAAQ,oBAAsB,SAASA,GAAQZ,EAAIW,KAAKmC,aAAelC,MAAWT,EAAG,MAAM,CAACb,YAAY,yBAAyB,CAACa,EAAG,QAAQ,CAACb,YAAY,eAAeC,MAAM,CAAC,UAAU,GAAG,KAAO,SAAS,SAAWS,EAAIU,GAAGC,KAAKoC,SAAS,QAAU/C,EAAIM,QAAQX,SAAS,CAACK,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIiB,GAAG,sBAAsB,IAAI,IAAI,IAAI,GAAGd,EAAG,uBAAuB,CAACZ,MAAM,CAAC,aAAaS,EAAIgD,QAAQ,cAAchD,EAAIiD,kBAAkBvD,GAAG,CAAC,aAAeM,EAAIkD,iBAAiB,IACj/CC,EAAkB,G;;ACKf,MAAMC,EAAezC,IAC1B,IAAI0C,EAAU,IAAIC,SAClB,IAAK,MAAMC,KAAM5C,EAEV,qBAAQA,EAAK4C,IAuBP5C,EAAK4C,aAAeC,MAC7BH,EAAQI,OAAOF,EAAI5C,EAAK4C,IAtBpB5C,EAAK4C,aAAeG,MAElB/C,EAAK4C,GAAII,KAAKvG,GAAsB,kBAARA,KAAsBA,aAAeoG,OAEnE7C,EAAK4C,GAAI9E,QAAQ,CAACmF,EAAK1E,KACrB,IAAK,MAAM2E,KAAQD,EACjBP,EAAQI,OAAO,GAAGF,KAAMrE,MAAM2E,KAASD,EAAIC,OAItClD,EAAK4C,GAAII,KAAKvG,GAAOA,aAAeoG,MAC7C7C,EAAK4C,GAAI9E,QAAQ,CAACqF,EAAM5E,IAAMmE,EAAQI,OAAO,GAAGF,KAAMrE,KAAM4E,KAO9DT,EAAQI,OAAOF,EAAI5C,EAAK4C,IAO9B,OAAOF,G,4BCgGM,GACb5G,KAAM,gBAENsH,WAAY,CACVC,MAAO,IAAM,gDACbC,MAAO,IAAM,gDACbC,UAAW,IAAM,gDACjBC,QAAS,IAAM,iDAGjBC,OAAQ,CAACC,EAAA,KAAcC,EAAA,MAEvB,OACE,MAAO,CACL3D,KAAM,CACJlE,KAAM,GACNwF,YAAa,GACbE,kBAAmB,GACnBN,WAAY,KACZQ,OAAQ,GACRG,MAAO,GACPG,UAAW,GACXE,WAAY,GACZC,aAAc,IAEhBV,YAAa,GACbG,QAAS,CACP,CAAC,cAAe,GAChB,CAAC,oBAAqB,GACtBO,aAAc,GACdH,UAAW,IAEbrC,QAAS,CACPX,QAAQ,EACRY,OAAO,KAKbgE,SAAU,CACR,aACE,OAAO9G,KAAK+G,OAAOC,QAAUhH,KAAK+G,OAAOC,OAAOpE,YAGlD,OACE,OAAO5C,KAAK+G,OAAOC,QAAUhH,KAAK+G,OAAOC,OAAOC,MAGlD,oBACE,MAAO,CACL7B,WAAYpF,KAAK8E,QAAQ,oBACzBO,aAAcrF,KAAK8E,QAAQO,gBAKjC,cACE,MAAO,CACLnC,KAAM,CACJlE,KAAM,CACJkI,SAAA,cACAC,UAAW,uBAAU,GACrBC,UAAW,uBAAU,KAEvBhD,WAAY,CACV8C,SAAU,wBAAW,IAA0B,WAApBlH,KAAK4C,aAGlC4B,YAAa,CACX6C,SAAU,eAAS,GACnBC,SAAU,eAAS,MAErB5C,kBAAmB,CACjByC,UAAW,uBAAU,IACrBC,UAAW,uBAAU,SAM7B,UACEpH,KAAKuH,eACe,SAApBvH,KAAK4C,YAAyB5C,KAAKwH,gBAGrCpH,QAAS,CACP,eACEP,OAAO4H,KAAKzH,KAAK8E,SAAS9D,QAAQ8E,IAChC,eAAU,CAAE4B,QAAS5B,IAAM6B,KAAKC,IAE5B5H,KAAK8E,QAAQgB,GADJ,eAAPA,GAA8B,cAAPA,EACN8B,EAAItI,KAAKA,KAAKuI,IAAIxB,IACnC,MAAO,CAAErH,KAAMqH,EAAKrH,KAAMsF,GAAI+B,EAAK/B,MAGlBsD,EAAItI,KAAKA,UAMpC,eACEU,KAAK6C,QAAQC,OAAQ,EACrB,eAAS,CAAE4E,QAAS,WAAYpD,GAAItE,KAAKiH,OAAQU,KAAKC,IACpD5H,KAAKkD,KAAO0E,EAAItI,KAAKwI,WAIzB,WACE,MAAMxI,EAAOqG,EAAa3F,KAAKkD,MAC/BlD,KAAK6C,QAAQX,QAAS,EACtB,eAAU,CAAEwF,QAAS,WAAYpI,SAC9BqI,KAAK,KACJ3H,KAAK6C,QAAQX,QAAS,EACtBlC,KAAK+H,QAAQ1G,KAAK,CAAErC,KAAM,eAE3BgJ,MAAM,IAAOhI,KAAK6C,QAAQX,QAAS,IAGxC,gBAAgB+F,GACdjI,KAAKkD,KAAKkB,WAAa6D,EAAIC,KAC3BlI,KAAKiD,GAAGC,KAAKkB,WAAWL,UAG1B,YAAYoE,EAASC,EAAOpJ,GAC1BgB,KAAKkD,KAAKkF,GAAO/G,KAAK8G,GACtB,MAAME,EAAQrI,KAAK8E,QAAQ9F,GAAMsJ,UAAUxC,GAAMA,EAAGxB,KAAO6D,EAAQ7D,IACnEtE,KAAK8E,QAAQ9F,GAAM6F,OAAOwD,EAAO,IAGnC,gBAAgBhC,EAAM5E,EAAG2G,EAAOpJ,GAC9BgB,KAAKkD,KAAKkF,GAAOvD,OAAOpD,EAAG,GAC3BzB,KAAK8E,QAAQ9F,GAAMqC,KAAKgF,MChR2O,I,6ICOrQkC,EAAY,eACd,EACAjG,EACAoD,GACA,EACA,KACA,KACA,MAIa,aAAA6C,EAAiB,QAchC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,QAAA,KAAMC,OAAA,KAAKC,aAAA,KAAWC,YAAA,Q,kCChCrF,QACb,OACE,MAAO,CACLzD,kBAAkB,EAClBD,QAAS,KAIbnF,QAAS,CACP,iBAAiBiE,GACfrE,KAAKuF,QAAUlB,EACfrE,KAAKwF,kBAAmB,GAG1B,eACExF,KAAKwF,kBAAmB,M,kCCf9B,gBAEe,QACb,OACE,MAAO,CACL0D,OAAQ,KAIZpC,SAAU,CACR,aACE,OAAO9G,KAAKkJ,OAASlJ,KAAKkJ,OAASlJ,KAAKmJ,OAAOC,QAAQF,SAI3D9I,QAAS,CACP,mBAAmB8I,GACjBlJ,KAAK6C,QAAQC,OAAQ,EACrB,eAAS,CACP4E,QAAS1H,KAAKqJ,OAAOC,UACrBhF,GAAItE,KAAKuJ,SAASvJ,KAAKqJ,OAAOG,QAAU,MACxCN,WAECvB,KAAKC,IACJ5H,KAAKkJ,OAASA,EACdlJ,KAAKkD,KAAO0E,EAAItI,KAAKO,OAAO4H,KAAKG,EAAItI,MAAM,IAC3CU,KAAK6C,QAAQC,OAAQ,IAEtBkF,MAAM,IAAOhI,KAAK6C,QAAQC,OAAQ","file":"js/chunk-36e9662d.91d8974e.js","sourcesContent":["// Mixins\nimport mixins from '../../util/mixins';\nimport BindsAttrs from '../../mixins/binds-attrs';\nimport { provide as RegistrableProvide } from '../../mixins/registrable';\n/* @vue/component */\n\nexport default mixins(BindsAttrs, RegistrableProvide('form')\n/* @vue/component */\n).extend({\n  name: 'v-form',\n  inheritAttrs: false,\n  props: {\n    lazyValidation: Boolean,\n    value: Boolean\n  },\n  data: () => ({\n    inputs: [],\n    watchers: [],\n    errorBag: {}\n  }),\n  watch: {\n    errorBag: {\n      handler(val) {\n        const errors = Object.values(val).includes(true);\n        this.$emit('input', !errors);\n      },\n\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    watchInput(input) {\n      const watcher = input => {\n        return input.$watch('hasError', val => {\n          this.$set(this.errorBag, input._uid, val);\n        }, {\n          immediate: true\n        });\n      };\n\n      const watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {}\n      };\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', val => {\n          if (!val) return; // Only watch if we're not already doing it\n\n          if (this.errorBag.hasOwnProperty(input._uid)) return;\n          watchers.valid = watcher(input);\n        });\n      } else {\n        watchers.valid = watcher(input);\n      }\n\n      return watchers;\n    },\n\n    /** @public */\n    validate() {\n      return this.inputs.filter(input => !input.validate(true)).length === 0;\n    },\n\n    /** @public */\n    reset() {\n      this.inputs.forEach(input => input.reset());\n      this.resetErrorBag();\n    },\n\n    resetErrorBag() {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {};\n        }, 0);\n      }\n    },\n\n    /** @public */\n    resetValidation() {\n      this.inputs.forEach(input => input.resetValidation());\n      this.resetErrorBag();\n    },\n\n    register(input) {\n      this.inputs.push(input);\n      this.watchers.push(this.watchInput(input));\n    },\n\n    unregister(input) {\n      const found = this.inputs.find(i => i._uid === input._uid);\n      if (!found) return;\n      const unwatch = this.watchers.find(i => i._uid === found._uid);\n\n      if (unwatch) {\n        unwatch.valid();\n        unwatch.shouldValidate();\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid);\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid);\n      this.$delete(this.errorBag, found._uid);\n    }\n\n  },\n\n  render(h) {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$\n      },\n      on: {\n        submit: e => this.$emit('submit', e)\n      }\n    }, this.$slots.default);\n  }\n\n});\n//# sourceMappingURL=VForm.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-page\"},[_c('v-container',[(_vm.actionType === 'update')?_c('locale-select',{attrs:{\"loading\":_vm.loading.fetch},on:{\"change\":_vm.handleLocaleChange}}):_vm._e(),_c('form-wrapper',{attrs:{\"validator\":_vm.$v.form}},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.$t(\"heading.main_info\")))]),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('form-group',{attrs:{\"name\":\"name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._b({attrs:{\"outlined\":\"\",\"label\":_vm.$t('label.name')},on:{\"blur\":function($event){return _vm.$v.form.name.$touch()}},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},'v-text-field',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('form-group',{attrs:{\"name\":\"main_media\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('new-image-upload',_vm._b({staticClass:\"file-upload__image\",attrs:{\"imgUrl\":_vm.form.main_media && _vm.form.main_media.path,\"imgId\":_vm.form.main_media && _vm.form.main_media.id},on:{\"fileSelected\":_vm.handleImgSelect}},'new-image-upload',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('form-group',{attrs:{\"name\":\"description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-textarea',_vm._b({attrs:{\"outlined\":\"\",\"no-resize\":\"\",\"auto-grow\":\"\",\"label\":_vm.$t('label.description')},on:{\"blur\":function($event){return _vm.$v.form.description.$touch()}},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.description\"}},'v-textarea',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('form-group',{attrs:{\"name\":\"short_description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-textarea',_vm._b({attrs:{\"outlined\":\"\",\"no-resize\":\"\",\"rows\":\"3\",\"label\":_vm.$t('label.short_description')},on:{\"blur\":function($event){return _vm.$v.form.short_description.$touch()}},model:{value:(_vm.form.short_description),callback:function ($$v) {_vm.$set(_vm.form, \"short_description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.short_description\"}},'v-textarea',attrs,false))]}}])})],1)],1)],1)],1)],1),_c('media',{attrs:{\"photos\":_vm.mediaPhotos},on:{\"ImgSelected\":function($event){_vm.form.photos = $event},\"ImgDeleted\":function($event){return _vm.form.photos.splice($event, 1)}}}),_c('demos',{attrs:{\"demo-types\":_vm.options['demo-types'],\"added-demos\":_vm.form.demos},on:{\"AddDemo\":_vm.pushToTable,\"DeleteDemo\":_vm.removeFromTable}}),_c('platforms',{attrs:{\"platforms\":_vm.options.platforms,\"added-platforms\":_vm.form.platforms},on:{\"AddPlatform\":_vm.pushToTable,\"DeletePlatform\":_vm.removeFromTable}}),_c('options',{attrs:{\"options\":_vm.additionalOptions},on:{\"categoriesUpdated\":function($event){_vm.form.categories = $event},\"technologiesUpdated\":function($event){_vm.form.technologies = $event}}}),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{staticClass:\"primary my-5\",attrs:{\"x-large\":\"\",\"type\":\"submit\",\"disabled\":_vm.$v.form.$invalid,\"loading\":_vm.loading.submit}},[_vm._v(_vm._s(_vm.$t(\"button.submit\")))])],1)],1)],1)],1),_c('global-image-preview',{attrs:{\"image-path\":_vm.currImg,\"show-dialog\":_vm.imgPreviewDialog},on:{\"closePreview\":_vm.closePreview}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//* CONSTRUCTING A ONE-LEVEL-DEEP FORMDATA OBJECT FROM A GIVEN NORMAL OBJECT (form)\n// ================================================================================\n//! works only with:\n//? flat arrays\n//? arrays of flat objects\n//? arrays of flat objects that contain files\n//? arrays of files\n//? files\n//? Strings\n//? Number\n// ================================================================================\n\nimport { isEmpty } from \"lodash\";\n\nexport const deepFormData = form => {\n  let payload = new FormData();\n  for (const el in form) {\n    // if the property is not empty\n    if (!isEmpty(form[el])) {\n      // if the property is an array\n      if (form[el] instanceof Array) {\n        // if THAT array is an array of objects (has at least one object)\n        if (form[el].some(val => typeof val === \"object\" && !(val instanceof File))) {\n          // flattening each object in that array\n          form[el].forEach((obj, i) => {\n            for (const prop in obj) {\n              payload.append(`${el}[${i}][${prop}]`, obj[prop]);\n            }\n          });\n          // if it's an array of files\n        } else if (form[el].some(val => val instanceof File)) {\n          form[el].forEach((item, i) => payload.append(`${el}[${i}]`, item));\n          // if it's a flat array\n        } else {\n          form[el].forEach((item, i) => payload.append(`${el}[${i}]`, item));\n        }\n        // if it's not an array\n      } else {\n        payload.append(el, form[el]);\n      }\n      // if it's just a single file\n    } else if (form[el] instanceof File) {\n      payload.append(el, form[el]);\n    }\n  }\n  return payload;\n};\n","<template>\n  <div class=\"form-page\">\n    <v-container>\n      <locale-select\n        v-if=\"actionType === 'update'\"\n        :loading=\"loading.fetch\"\n        @change=\"handleLocaleChange\"\n      />\n\n      <form-wrapper :validator=\"$v.form\">\n        <v-form @submit.prevent=\"onSubmit\">\n          <!-- MAIN INFO -->\n          <v-card>\n            <v-card-title>{{ $t(\"heading.main_info\") }}</v-card-title>\n            <v-card-text>\n              <v-container fluid>\n                <v-row>\n                  <v-col cols=\"12\" md=\"6\">\n                    <form-group name=\"name\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-text-field\n                          v-model=\"form.name\"\n                          v-bind=\"attrs\"\n                          outlined\n                          :label=\"$t('label.name')\"\n                          @blur=\"$v.form.name.$touch()\"\n                        ></v-text-field>\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\" md=\"6\">\n                    <form-group name=\"main_media\">\n                      <template slot-scope=\"{ attrs }\">\n                        <new-image-upload\n                          class=\"file-upload__image\"\n                          :imgUrl=\"form.main_media && form.main_media.path\"\n                          :imgId=\"form.main_media && form.main_media.id\"\n                          @fileSelected=\"handleImgSelect\"\n                          v-bind=\"attrs\"\n                        />\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\">\n                    <form-group name=\"description\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-textarea\n                          v-model.trim=\"form.description\"\n                          v-bind=\"attrs\"\n                          outlined\n                          no-resize\n                          auto-grow\n                          :label=\"$t('label.description')\"\n                          @blur=\"$v.form.description.$touch()\"\n                        ></v-textarea>\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\">\n                    <form-group name=\"short_description\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-textarea\n                          v-model.trim=\"form.short_description\"\n                          v-bind=\"attrs\"\n                          outlined\n                          no-resize\n                          rows=\"3\"\n                          :label=\"$t('label.short_description')\"\n                          @blur=\"$v.form.short_description.$touch()\"\n                        ></v-textarea>\n                      </template>\n                    </form-group>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n          </v-card>\n\n          <!-- MEDIA -->\n          <media\n            :photos=\"mediaPhotos\"\n            @ImgSelected=\"form.photos = $event\"\n            @ImgDeleted=\"form.photos.splice($event, 1)\"\n          />\n\n          <!-- DEMOS -->\n          <demos\n            :demo-types=\"options['demo-types']\"\n            :added-demos=\"form.demos\"\n            @AddDemo=\"pushToTable\"\n            @DeleteDemo=\"removeFromTable\"\n          />\n\n          <!-- PLATFORMS -->\n          <platforms\n            :platforms=\"options.platforms\"\n            :added-platforms=\"form.platforms\"\n            @AddPlatform=\"pushToTable\"\n            @DeletePlatform=\"removeFromTable\"\n          />\n\n          <!-- CATEGORIES & TECHNOLOGIES -->\n          <options\n            :options=\"additionalOptions\"\n            @categoriesUpdated=\"form.categories = $event\"\n            @technologiesUpdated=\"form.technologies = $event\"\n          />\n\n          <div class=\"d-flex justify-center\">\n            <v-btn\n              x-large\n              type=\"submit\"\n              class=\"primary my-5\"\n              :disabled=\"$v.form.$invalid\"\n              :loading=\"loading.submit\"\n              >{{ $t(\"button.submit\") }}</v-btn\n            >\n          </div>\n        </v-form>\n      </form-wrapper>\n    </v-container>\n\n    <global-image-preview\n      :image-path=\"currImg\"\n      :show-dialog=\"imgPreviewDialog\"\n      @closePreview=\"closePreview\"\n    />\n  </div>\n</template>\n\n<script>\nimport { minLength, maxLength, required, requiredIf } from \"vuelidate/lib/validators\";\nimport { minWords, maxWords } from \"@/utils/validate\";\nimport { IndexData, StoreData, ShowData } from \"@/helpers/apiMethods\";\nimport { deepFormData } from \"@/helpers/deepFormData\";\nimport switchLocale from \"@/mixins/switchLocale\";\nimport imgPreviewMixin from \"@/mixins/imgPreview\";\n\nexport default {\n  name: \"CreateProject\",\n\n  components: {\n    Demos: () => import(\"./components/demos\"),\n    Media: () => import(\"./components/media\"),\n    Platforms: () => import(\"./components/platforms\"),\n    Options: () => import(\"./components/options\")\n  },\n\n  mixins: [switchLocale, imgPreviewMixin],\n\n  data() {\n    return {\n      form: {\n        name: \"\",\n        description: \"\",\n        short_description: \"\",\n        main_media: null,\n        photos: [],\n        demos: [],\n        platforms: [],\n        categories: [],\n        technologies: []\n      },\n      mediaPhotos: [],\n      options: {\n        [\"demo-types\"]: [],\n        [\"store-categories\"]: [],\n        technologies: [],\n        platforms: []\n      },\n      loading: {\n        submit: false,\n        fetch: false\n      }\n    };\n  },\n\n  computed: {\n    actionType() {\n      return this.$route.params && this.$route.params.actionType;\n    },\n\n    slug() {\n      return this.$route.params && this.$route.params.slug;\n    },\n\n    additionalOptions() {\n      return {\n        categories: this.options[\"store-categories\"],\n        technologies: this.options.technologies\n      };\n    }\n  },\n\n  validations() {\n    return {\n      form: {\n        name: {\n          required,\n          minLength: minLength(3),\n          maxLength: maxLength(50)\n        },\n        main_media: {\n          required: requiredIf(() => this.actionType === \"create\")\n        },\n        // TODO dynamically display min & max values in the message validation error message\n        description: {\n          minWords: minWords(3),\n          maxWords: maxWords(500)\n        },\n        short_description: {\n          minLength: minLength(10),\n          maxLength: maxLength(150)\n        }\n      }\n    };\n  },\n\n  created() {\n    this.fetchOptions();\n    this.actionType === \"edit\" && this.fetchProject();\n  },\n\n  methods: {\n    fetchOptions() {\n      Object.keys(this.options).forEach(el => {\n        IndexData({ reqName: el }).then(res => {\n          if (el === \"demo-types\" || el === \"platforms\") {\n            this.options[el] = res.data.data.map(item => {\n              return { name: item.name, id: item.id };\n            });\n          } else {\n            this.options[el] = res.data.data;\n          }\n        });\n      });\n    },\n\n    fetchProject() {\n      this.loading.fetch = true;\n      ShowData({ reqName: \"projects\", id: this.slug }).then(res => {\n        this.form = res.data.project;\n      });\n    },\n\n    onSubmit() {\n      const data = deepFormData(this.form);\n      this.loading.submit = true;\n      StoreData({ reqName: \"projects\", data })\n        .then(() => {\n          this.loading.submit = false;\n          this.$router.push({ name: \"Projects\" });\n        })\n        .catch(() => (this.loading.submit = false));\n    },\n\n    handleImgSelect(img) {\n      this.form.main_media = img.file;\n      this.$v.form.main_media.$touch();\n    },\n\n    pushToTable(newItem, field, name) {\n      this.form[field].push(newItem);\n      const index = this.options[name].findIndex(el => el.id === newItem.id);\n      this.options[name].splice(index, 1);\n    },\n\n    removeFromTable(item, i, field, name) {\n      this.form[field].splice(i, 1);\n      this.options[name].push(item);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=55685b48&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VForm,VRow,VTextField,VTextarea})\n","export default {\n  data() {\n    return {\n      imgPreviewDialog: false,\n      currImg: \"\"\n    };\n  },\n\n  methods: {\n    handleImgPreview(path) {\n      this.currImg = path;\n      this.imgPreviewDialog = true;\n    },\n\n    closePreview() {\n      this.imgPreviewDialog = false;\n    }\n  }\n};\n","import { ShowData } from \"@/helpers/apiMethods\";\n\nexport default {\n  data() {\n    return {\n      locale: \"\"\n    };\n  },\n\n  computed: {\n    currLocale() {\n      return this.locale ? this.locale : this.$store.getters.locale;\n    }\n  },\n\n  methods: {\n    handleLocaleChange(locale) {\n      this.loading.fetch = true;\n      ShowData({\n        reqName: this.config.modelName,\n        id: this.currItem[this.config.idType || \"id\"],\n        locale\n      })\n        .then(res => {\n          this.locale = locale;\n          this.form = res.data[Object.keys(res.data)[0]];\n          this.loading.fetch = false;\n        })\n        .catch(() => (this.loading.fetch = false));\n    }\n  }\n};\n"],"sourceRoot":""}