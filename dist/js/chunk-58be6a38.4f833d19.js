(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58be6a38"],{"159f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media"},[s("global-toolbar",{staticClass:"mb-12",attrs:{title:"media",loading:t.loading.submit,disabled:t.newPhotos.length<1,"action-button":"","action-button-text":"save"},on:{ButtonClicked:t.savePhotos}}),s("div",{staticClass:"d-flex align-baseline justify-center"},[s("span",{staticClass:"mx-3",domProps:{textContent:t._s(t.$t("label.releases"))}}),s("v-switch",{staticClass:"mx-4",attrs:{inset:"","hide-details":"","true-value":"events","false-value":"releases",loading:t.loading.fetch},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),s("span",{domProps:{textContent:t._s(t.$t("label.events"))}})],1),s("v-container",[s("multi-image-upload",{ref:"imgUpload",attrs:{maxSize:4,imgsUrl:t.photos},on:{fileSelected:function(e){t.newPhotos=e},handle_delete_image:function(e){return t.photos.splice(e,1)}}})],1)],1)},i=[],n=s("2cc4"),o={name:"media",data(){return{photos:[],newPhotos:[],type:"events",loading:{fetch:!1,submit:!1}}},watch:{type:{immediate:!0,handler(){this.fetchItems()}}},methods:{fetchItems(){this.loading.fetch=!0;const t={pagination:"all"};"releases"===this.type?t.releases=!0:t.events=!0,Object(n["b"])({reqName:"photos-galleries",query:t}).then(t=>{this.photos=t.data.data,this.newPhotos=[],this.$refs.imgUpload.resetImageFile(),this.loading.fetch=!1}).catch(()=>{this.type,this.loading.fetch=!1})},savePhotos(){this.loading.submit=!0;let t=new FormData;this.newPhotos.forEach((e,s)=>t.append(`photos[${s}]`,e)),t.append("title",this.type),Object(n["d"])({reqName:"photos-galleries",data:t}).then(()=>{this.loading.submit=!1,this.fetchItems()}).catch(()=>{this.loading.submit=!1})}}},l=o,h=(s("979e"),s("2877")),c=s("6544"),d=s.n(c),r=s("a523"),p=s("b73d"),m=Object(h["a"])(l,a,i,!1,null,"ed776f16",null);e["default"]=m.exports;d()(m,{VContainer:r["a"],VSwitch:p["a"]})},"979e":function(t,e,s){"use strict";var a=s("9c11"),i=s.n(a);i.a},"9c11":function(t,e,s){}}]);
//# sourceMappingURL=chunk-58be6a38.4f833d19.js.map