(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b8d42ca"],{"2f7e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"projects"},[a("global-toolbar",{attrs:{title:"projects","action-button":"","action-button-text":"create"},on:{ButtonClicked:function(t){return e.$router.push({name:"ProjectCreate"})}}}),a("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-default-footer":"",loading:e.loading.table},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,s=t.index;return[a("tr",[a("td",[e._v(e._s(i.name))]),a("td",{staticClass:"table-logo"},[a("v-avatar",{staticClass:"square"},[a("img",{attrs:{src:i[e.config.imgType].path,alt:i[e.config.imgType].description},on:{click:function(t){return e.handleImgPreview(i[e.config.imgType].path)}}})])],1),a("td",[a("read-more",{staticClass:"read-more",attrs:{text:i.short_description?i.short_description:"No description available","max-chars":38,"less-str":"read less"}})],1),a("td",[a("v-btn",{attrs:{title:e.$t("label.features"),icon:"",fab:"",small:""},on:{click:function(t){return e.handleFeatures(i.id)}}},[a("v-icon",{staticClass:"edit"},[e._v("mdi-star-circle-outline")])],1)],1),a("td",{staticClass:"text-center"},[a("toggle-service",{attrs:{"is-edit":!0,"model-name":e.config.modelName,"model-id":i.id,field:"visible",validate:!0},model:{value:i.visible,callback:function(t){e.$set(i,"visible",t)},expression:"item.visible"}})],1),a("td",{staticClass:"text-center"},[a("toggle-service",{attrs:{"is-edit":!0,"model-name":e.config.modelName,"model-id":i.id,field:"available",validate:!0},model:{value:i.available,callback:function(t){e.$set(i,"available",t)},expression:"item.available"}})],1),a("td",[a("v-btn",{attrs:{icon:"",to:{name:"ProjectEdit",params:{slug:i.slug,actionType:"edit"}}}},[a("v-icon",{attrs:{medium:"",title:"edit"}},[e._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{medium:"",title:"delete"},on:{click:function(t){return e.handleDelete(i.slug,s)}}},[e._v("\n              mdi-delete")])],1)],1)])]}}])}),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.featureDialog,callback:function(t){e.featureDialog=t},expression:"featureDialog"}},[e.featureDialog?a("global-features",{attrs:{"featured-item-type":"project","featured-item-id":e.featureId},on:{closeFeatures:function(t){e.featureDialog=!1}}}):e._e()],1),a("global-image-preview",{attrs:{"image-path":e.currImg,"show-dialog":e.imgPreviewDialog},on:{closePreview:e.closePreview}})],1)},s=[],l=a("8165"),o={name:"Projects",components:{GlobalFeatures:()=>a.e("chunk-46ca2a84").then(a.bind(null,"1499"))},mixins:[l["a"]],data(){return{headerValues:["name","photo","description","features","visible","available","actions"],model:{name:"",description:"",short_description:"",main_media:null},config:{modelName:"projects",imgType:"main_media",idType:"slug"},featureDialog:!1,featureId:null}},methods:{handleFeatures(e){this.featureDialog=!0,this.featureId=e}}},n=o,r=a("2877"),d=a("6544"),c=a.n(d),m=a("8212"),u=a("8336"),g=a("8fea"),h=a("169a"),f=a("132d"),p=Object(r["a"])(n,i,s,!1,null,null,null);t["default"]=p.exports;c()(p,{VAvatar:m["a"],VBtn:u["a"],VDataTable:g["a"],VDialog:h["a"],VIcon:f["a"]})},8165:function(e,t,a){"use strict";var i=a("297e"),s=a("2cc4"),l=a("9257");t["a"]={mixins:[l["a"]],data(){return{items:[],actionType:"",editingItem:{},loading:{table:!1},dialog:!1}},computed:{headers(){return Object(i["a"])(this.headerValues)},dialogTitle(){return"update"===this.actionType?this.$t("heading.edit"):this.$t("heading.create")}},created(){this.fetchItems()},methods:{fetchItems(){this.loading.table=!0,Object(s["b"])({reqName:this.config.modelName}).then(e=>{this.items=e.data.data,this.loading.table=!1}).catch(()=>this.loading.table=!1)},initDialog(e,t){this.actionType=e,this.editingItem="update"===e?t:this.model,this.dialog=!0},handleDialogClose(){this.dialog=!1,this.fetchItems()},handleDelete(e,t){this.popUp(this.$t("message.delete")).then(a=>{a.dismiss||(this.loading.table=!0,Object(s["a"])({reqName:this.config.modelName,id:e}).then(()=>{this.items.splice(t,1),this.loading.table=!1}).catch(()=>{this.loading.table=!1}))})}}}},9257:function(e,t,a){"use strict";t["a"]={data(){return{imgPreviewDialog:!1,currImg:""}},methods:{handleImgPreview(e){this.currImg=e,this.imgPreviewDialog=!0},closePreview(){this.imgPreviewDialog=!1}}}}}]);
//# sourceMappingURL=chunk-5b8d42ca.f3ef7613.js.map