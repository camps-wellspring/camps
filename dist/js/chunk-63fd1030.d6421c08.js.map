{"version":3,"sources":["webpack:///./src/views/store/projects/action/index.vue?c837","webpack:///src/views/store/projects/action/index.vue","webpack:///./src/views/store/projects/action/index.vue?62f0","webpack:///./src/views/store/projects/action/index.vue","webpack:///./src/mixins/imgPreview.js","webpack:///./src/mixins/switchLocale.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","actionType","attrs","loading","fetch","on","handleLocaleChange","_e","$v","form","$event","preventDefault","onSubmit","_v","_s","$t","scopedSlots","_u","key","fn","ref","_b","name","$touch","model","value","callback","$$v","$set","expression","main_media","path","id","handleImgSelect","description","trim","short_description","mediaPhotos","photos","splice","options","demos","addDemo","deleteDemo","platforms","addPlatform","deletePlatform","additionalOptions","categories","technologies","$invalid","submit","currImg","imgPreviewDialog","closePreview","staticRenderFns","components","Demos","Media","Platforms","Options","mixins","switchLocale","imgPreview","computed","pathArr","$route","split","length","required","minLength","maxLength","minWords","maxWords","fetchOptions","methods","Object","keys","forEach","el","reqName","then","res","data","map","item","payload","FormData","File","append","$router","push","img","file","newDemo","demoTypeIndex","getIndexById","newPlatform","i","targetArr","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VRow","VTextField","VTextarea","locale","$store","getters","config","modelName","currItem","idType","catch"],"mappings":"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","file":"js/chunk-63fd1030.d6421c08.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-page\"},[_c('v-container',[(_vm.actionType === 'update')?_c('locale-select',{attrs:{\"loading\":_vm.loading.fetch},on:{\"change\":_vm.handleLocaleChange}}):_vm._e(),_c('form-wrapper',{attrs:{\"validator\":_vm.$v.form}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.$t(\"heading.main_info\")))]),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('form-group',{attrs:{\"name\":\"name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._b({attrs:{\"outlined\":\"\",\"label\":_vm.$t('label.name')},on:{\"blur\":function($event){return _vm.$v.form.name.$touch()}},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},'v-text-field',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('form-group',{attrs:{\"name\":\"main_media\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('new-image-upload',_vm._b({staticClass:\"file-upload__image\",attrs:{\"imgUrl\":_vm.form.main_media && _vm.form.main_media.path,\"imgId\":_vm.form.main_media && _vm.form.main_media.id},on:{\"fileSelected\":_vm.handleImgSelect}},'new-image-upload',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('form-group',{attrs:{\"name\":\"description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-textarea',_vm._b({attrs:{\"outlined\":\"\",\"no-resize\":\"\",\"auto-grow\":\"\",\"label\":_vm.$t('label.description')},on:{\"blur\":function($event){return _vm.$v.form.description.$touch()}},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.description\"}},'v-textarea',attrs,false))]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('form-group',{attrs:{\"name\":\"short_description\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-textarea',_vm._b({attrs:{\"outlined\":\"\",\"no-resize\":\"\",\"rows\":\"3\",\"label\":_vm.$t('label.short_description')},on:{\"blur\":function($event){return _vm.$v.form.short_description.$touch()}},model:{value:(_vm.form.short_description),callback:function ($$v) {_vm.$set(_vm.form, \"short_description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.short_description\"}},'v-textarea',attrs,false))]}}])})],1)],1)],1)],1)],1),_c('media',{attrs:{\"photos\":_vm.mediaPhotos},on:{\"ImgSelected\":function($event){_vm.form.photos = $event},\"ImgDeleted\":function($event){return _vm.form.photos.splice($event, 1)}}}),_c('demos',{attrs:{\"demo-types\":_vm.options['demo-types'],\"added-demos\":_vm.form.demos},on:{\"AddDemo\":_vm.addDemo,\"DeleteDemo\":_vm.deleteDemo}}),_c('platforms',{attrs:{\"platforms\":_vm.options.platforms,\"added-platforms\":_vm.form.platforms},on:{\"AddPlatform\":_vm.addPlatform,\"DeletePlatform\":_vm.deletePlatform}}),_c('options',{attrs:{\"options\":_vm.additionalOptions},on:{\"categoriesUpdated\":function($event){_vm.form.categories = $event},\"technologiesUpdated\":function($event){_vm.form.technologies = $event}}}),_c('v-btn',{staticClass:\"primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.$v.form.$invalid,\"loading\":_vm.loading.submit}},[_vm._v(_vm._s(_vm.$t(\"button.submit\")))])],1)])],1),_c('global-image-preview',{attrs:{\"image-path\":_vm.currImg,\"show-dialog\":_vm.imgPreviewDialog},on:{\"closePreview\":_vm.closePreview}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-page\">\n    <v-container>\n      <locale-select\n        v-if=\"actionType === 'update'\"\n        :loading=\"loading.fetch\"\n        @change=\"handleLocaleChange\"\n      />\n\n      <form-wrapper :validator=\"$v.form\">\n        <form @submit.prevent=\"onSubmit\">\n          <!-- MAIN INFO -->\n          <v-card>\n            <v-card-title>{{ $t(\"heading.main_info\") }}</v-card-title>\n            <v-card-text>\n              <v-container fluid>\n                <v-row>\n                  <v-col cols=\"12\" md=\"6\">\n                    <form-group name=\"name\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-text-field\n                          v-model=\"form.name\"\n                          v-bind=\"attrs\"\n                          outlined\n                          :label=\"$t('label.name')\"\n                          @blur=\"$v.form.name.$touch()\"\n                        ></v-text-field>\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\" md=\"6\">\n                    <form-group name=\"main_media\">\n                      <template slot-scope=\"{ attrs }\">\n                        <new-image-upload\n                          class=\"file-upload__image\"\n                          :imgUrl=\"form.main_media && form.main_media.path\"\n                          :imgId=\"form.main_media && form.main_media.id\"\n                          @fileSelected=\"handleImgSelect\"\n                          v-bind=\"attrs\"\n                        />\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\">\n                    <form-group name=\"description\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-textarea\n                          v-model.trim=\"form.description\"\n                          v-bind=\"attrs\"\n                          outlined\n                          no-resize\n                          auto-grow\n                          :label=\"$t('label.description')\"\n                          @blur=\"$v.form.description.$touch()\"\n                        ></v-textarea>\n                      </template>\n                    </form-group>\n                  </v-col>\n\n                  <v-col cols=\"12\">\n                    <form-group name=\"short_description\">\n                      <template slot-scope=\"{ attrs }\">\n                        <v-textarea\n                          v-model.trim=\"form.short_description\"\n                          v-bind=\"attrs\"\n                          outlined\n                          no-resize\n                          rows=\"3\"\n                          :label=\"$t('label.short_description')\"\n                          @blur=\"$v.form.short_description.$touch()\"\n                        ></v-textarea>\n                      </template>\n                    </form-group>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n          </v-card>\n\n          <!-- MEDIA -->\n          <media\n            :photos=\"mediaPhotos\"\n            @ImgSelected=\"form.photos = $event\"\n            @ImgDeleted=\"form.photos.splice($event, 1)\"\n          />\n\n          <!-- DEMOS -->\n          <demos\n            :demo-types=\"options['demo-types']\"\n            :added-demos=\"form.demos\"\n            @AddDemo=\"addDemo\"\n            @DeleteDemo=\"deleteDemo\"\n          />\n\n          <!-- PLATFORMS -->\n          <platforms\n            :platforms=\"options.platforms\"\n            :added-platforms=\"form.platforms\"\n            @AddPlatform=\"addPlatform\"\n            @DeletePlatform=\"deletePlatform\"\n          />\n\n          <!-- CATEGORIES & TECHNOLOGIES -->\n          <options\n            :options=\"additionalOptions\"\n            @categoriesUpdated=\"form.categories = $event\"\n            @technologiesUpdated=\"form.technologies = $event\"\n          />\n\n          <v-btn\n            type=\"submit\"\n            class=\"primary\"\n            :disabled=\"$v.form.$invalid\"\n            :loading=\"loading.submit\"\n            >{{ $t(\"button.submit\") }}</v-btn\n          >\n        </form>\n      </form-wrapper>\n    </v-container>\n\n    <global-image-preview\n      :image-path=\"currImg\"\n      :show-dialog=\"imgPreviewDialog\"\n      @closePreview=\"closePreview\"\n    />\n  </div>\n</template>\n\n<script>\nimport { minLength, maxLength, required, requiredIf } from \"vuelidate/lib/validators\";\nimport { minWords, maxWords } from \"@/utils/validate\";\nimport switchLocale from \"@/mixins/switchLocale\";\nimport imgPreviewMixin from \"@/mixins/imgPreview\";\nimport { IndexData, StoreData } from \"@/helpers/apiMethods\";\nimport { isEmpty } from \"lodash\";\n\nexport default {\n  name: \"CreateProject\",\n\n  components: {\n    Demos: () => import(\"./components/demos\"),\n    Media: () => import(\"./components/media\"),\n    Platforms: () => import(\"./components/platforms\"),\n    Options: () => import(\"./components/options\")\n  },\n\n  mixins: [switchLocale, imgPreviewMixin],\n\n  data() {\n    return {\n      form: {\n        name: \"\",\n        description: \"\",\n        short_description: \"\",\n        main_media: null,\n        photos: [],\n        demos: [],\n        platforms: [],\n        categories: [],\n        technologies: []\n      },\n      mediaPhotos: [],\n      options: {\n        [\"demo-types\"]: [],\n        [\"store-categories\"]: [],\n        technologies: [],\n        platforms: []\n      },\n      loading: {\n        submit: false,\n        fetch: false\n      }\n    };\n  },\n\n  computed: {\n    actionType() {\n      const pathArr = this.$route.path.split(\"/\");\n      const actionType = pathArr[pathArr.length - 1];\n      return actionType === \"create\" ? \"create\" : \"update\";\n    },\n\n    additionalOptions() {\n      return {\n        categories: this.options[\"store-categories\"],\n        technologies: this.options.technologies\n      };\n    }\n  },\n\n  validations() {\n    return {\n      form: {\n        name: {\n          required,\n          minLength: minLength(3),\n          maxLength: maxLength(50)\n        },\n        main_media: {\n          required: requiredIf(() => this.actionType === \"create\")\n        },\n        // TODO dynamically display min & max values in the message validation error message\n        description: {\n          minWords: minWords(3),\n          maxWords: maxWords(500)\n        },\n        short_description: {\n          minLength: minLength(10),\n          maxLength: maxLength(150)\n        }\n      }\n    };\n  },\n\n  created() {\n    this.fetchOptions();\n  },\n\n  methods: {\n    fetchOptions() {\n      Object.keys(this.options).forEach(el => {\n        IndexData({ reqName: el }).then(res => {\n          if (el === \"demo-types\" || el === \"platforms\") {\n            this.options[el] = res.data.data.map(item => {\n              return { name: item.name, id: item.id };\n            });\n          } else {\n            this.options[el] = res.data.data;\n          }\n        });\n      });\n    },\n\n    onSubmit() {\n      let payload = new FormData();\n      for (const el in this.form) {\n        this.form[el] instanceof File && payload.append(el, this.form[el]);\n        !isEmpty(this.form[el]) && payload.append(el, this.form[el]);\n      }\n      this.loading.submit = true;\n      StoreData({ reqName: \"projects\", data: payload }).then(() => {\n        this.loading.submit = false;\n        this.$router.push({ name: \"Projects\" });\n      });\n    },\n\n    handleImgSelect(img) {\n      this.form.main_media = img.file;\n      this.$v.form.main_media.$touch();\n    },\n\n    addDemo(newDemo) {\n      this.form.demos.push(newDemo);\n      const demoTypeIndex = this.getIndexById(newDemo.id, this.options[\"demo-types\"]);\n      this.options[\"demo-types\"].splice(demoTypeIndex, 1);\n    },\n\n    addPlatform(newPlatform) {\n      this.form.platforms.push(newPlatform);\n      // FIXME handle splice properly\n      // const platformIndex = this.getIndexById(newPlatform.id, this.options.platforms);\n      // this.options.platforms.splice(platformIndex, 1);\n    },\n\n    deleteDemo(item, i) {\n      this.form.demos.splice(i, 1);\n      this.options[\"demo-types\"].push(item);\n    },\n\n    deletePlatform(item, i) {\n      this.form.platforms.splice(i, 1);\n      this.options.platforms.push(item);\n    },\n\n    getIndexById(id, targetArr) {\n      targetArr.forEach((el, i) => el.id === id && i);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/vuetify-loader/lib/loader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e996fee4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VRow,VTextField,VTextarea})\n","export default {\n  data() {\n    return {\n      imgPreviewDialog: false,\n      currImg: \"\"\n    };\n  },\n\n  methods: {\n    handleImgPreview(path) {\n      this.currImg = path;\n      this.imgPreviewDialog = true;\n    },\n\n    closePreview() {\n      this.imgPreviewDialog = false;\n    }\n  }\n};\n","import { ShowData } from \"@/helpers/apiMethods\";\n\nexport default {\n  data() {\n    return {\n      locale: \"\"\n    };\n  },\n\n  computed: {\n    currLocale() {\n      return this.locale ? this.locale : this.$store.getters.locale;\n    }\n  },\n\n  methods: {\n    handleLocaleChange(locale) {\n      this.loading.fetch = true;\n      ShowData({\n        reqName: this.config.modelName,\n        id: this.currItem[this.config.idType || \"id\"],\n        locale\n      })\n        .then(res => {\n          this.locale = locale;\n          this.form = res.data[Object.keys(res.data)[0]];\n          this.loading.fetch = false;\n        })\n        .catch(() => (this.loading.fetch = false));\n    }\n  }\n};\n"],"sourceRoot":""}