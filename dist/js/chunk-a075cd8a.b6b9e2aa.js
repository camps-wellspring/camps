(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a075cd8a"],{"0581":function(t,e,a){},"159f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media"},[a("global-toolbar",{staticClass:"mb-12",attrs:{title:"media",loading:t.loading.submit,disabled:t.newPhotos.length<1,"action-button":"","action-button-text":"save"},on:{ButtonClicked:t.savePhotos}}),a("div",{staticClass:"d-flex align-baseline justify-center"},[a("span",{staticClass:"mx-3",domProps:{textContent:t._s(t.$t("label.information_center"))}}),a("v-switch",{staticClass:"mx-4",attrs:{inset:"","hide-details":"","true-value":"main_gallery","false-value":"information_center",loading:t.loading.fetch},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),a("span",{domProps:{textContent:t._s(t.$t("label.honorary_exhibition"))}})],1),a("v-container",[a("multi-image-upload",{ref:"imgUpload",attrs:{maxSize:4,imgsUrl:t.photos},on:{fileSelected:function(e){t.newPhotos=e},handle_delete_image:function(e){return t.photos.splice(e,1)}}})],1)],1)},n=[],s=a("2cc4"),o={name:"media",data(){return{photos:[],newPhotos:[],type:"main_gallery",loading:{fetch:!1,submit:!1}}},watch:{type:{immediate:!0,handler(){this.fetchItems()}}},methods:{fetchItems(){this.loading.fetch=!0;const t={pagination:"all"};"information_center"===this.type&&(t.information_center=!0),Object(s["b"])({reqName:"photos-galleries",query:t}).then(t=>{this.photos=t.data.data,this.newPhotos=[],this.$refs.imgUpload.resetImageFile(),this.loading.fetch=!1}).catch(()=>{this.type,this.loading.fetch=!1})},savePhotos(){this.loading.submit=!0;let t=new FormData;this.newPhotos.forEach((e,a)=>t.append(`photos[${a}]`,e)),t.append("title",this.type),Object(s["d"])({reqName:"photos-galleries",data:t}).then(()=>{this.loading.submit=!1,this.fetchItems()}).catch(()=>{this.loading.submit=!1})}}},l=o,c=(a("3796"),a("2877")),h=a("6544"),r=a.n(h),d=a("a523"),m=a("b73d"),p=Object(c["a"])(l,i,n,!1,null,"2f540220",null);e["default"]=p.exports;r()(p,{VContainer:d["a"],VSwitch:m["a"]})},3796:function(t,e,a){"use strict";var i=a("0581"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-a075cd8a.b6b9e2aa.js.map