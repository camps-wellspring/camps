{"version":3,"sources":["webpack:///./src/views/media/index.vue?b133","webpack:///src/views/media/index.vue","webpack:///./src/views/media/index.vue?1341","webpack:///./src/views/media/index.vue","webpack:///./src/views/media/index.vue?cfaf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","submit","newPhotos","length","on","savePhotos","domProps","_s","$t","fetch","model","value","callback","$$v","type","expression","ref","photos","$event","splice","staticRenderFns","name","watch","immediate","fetchItems","methods","query","pagination","information_center","reqName","then","res","data","$refs","imgUpload","resetImageFile","catch","FormData","forEach","photo","i","append","component","VContainer","VSwitch"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,iBAAiB,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,QAAQ,QAAUP,EAAIQ,QAAQC,OAAO,SAAWT,EAAIU,UAAUC,OAAS,EAAE,gBAAgB,GAAG,qBAAqB,QAAQC,GAAG,CAAC,cAAgBZ,EAAIa,cAAcT,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,OAAO,CAACE,YAAY,OAAOQ,SAAS,CAAC,YAAcd,EAAIe,GAAGf,EAAIgB,GAAG,gCAAgCZ,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,GAAG,eAAe,GAAG,aAAa,eAAe,cAAc,qBAAqB,QAAUP,EAAIQ,QAAQS,OAAOC,MAAM,CAACC,MAAOnB,EAAQ,KAAEoB,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKD,GAAKE,WAAW,UAAUnB,EAAG,OAAO,CAACU,SAAS,CAAC,YAAcd,EAAIe,GAAGf,EAAIgB,GAAG,kCAAkC,GAAGZ,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACoB,IAAI,YAAYjB,MAAM,CAAC,QAAU,EAAE,QAAUP,EAAIyB,QAAQb,GAAG,CAAC,aAAe,SAASc,GAAQ1B,EAAIU,UAAYgB,GAAQ,oBAAsB,SAASA,GAAQ,OAAO1B,EAAIyB,OAAOE,OAAOD,EAAQ,QAAQ,IAAI,IACtjCE,EAAkB,G,YCwCP,GACbC,KAAM,QAEN,OACE,MAAO,CACLJ,OAAQ,GACRf,UAAW,GAEXY,KAAM,eAENd,QAAS,CACPS,OAAO,EACPR,QAAQ,KAKdqB,MAAO,CACLR,KAAM,CACJS,WAAW,EACX,UACE9B,KAAK+B,gBAKXC,QAAS,CACP,aACEhC,KAAKO,QAAQS,OAAQ,EACrB,MAAMiB,EAAQ,CAAEC,WAAY,OACd,uBAAdlC,KAAKqB,OAAkCY,EAAME,oBAAqB,GAClE,eAAU,CAAEC,QAAS,mBAAoBH,UACtCI,KAAKC,IACJtC,KAAKwB,OAASc,EAAIC,KAAKA,KACvBvC,KAAKS,UAAY,GACjBT,KAAKwC,MAAMC,UAAUC,iBACrB1C,KAAKO,QAAQS,OAAQ,IAEtB2B,MAAM,KACL3C,KAAKqB,KACLrB,KAAKO,QAAQS,OAAQ,KAI3B,aACEhB,KAAKO,QAAQC,QAAS,EACtB,IAAI+B,EAAO,IAAIK,SACf5C,KAAKS,UAAUoC,QAAQ,CAACC,EAAOC,IAAMR,EAAKS,OAAO,UAAUD,KAAMD,IACjEP,EAAKS,OAAO,QAAShD,KAAKqB,MAC1B,eAAU,CAAEe,QAAS,mBAAoBG,SACtCF,KAAK,KACJrC,KAAKO,QAAQC,QAAS,EACtBR,KAAK+B,eAENY,MAAM,KACL3C,KAAKO,QAAQC,QAAS,OChGuN,I,qECQnPyC,EAAY,eACd,EACAnD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAsB,EAAiB,QAMhC,IAAkBA,EAAW,CAACC,aAAA,KAAWC,UAAA,Q,kCCzBzC,yBAAumB,EAAG","file":"js/chunk-a075cd8a.b6b9e2aa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media\"},[_c('global-toolbar',{staticClass:\"mb-12\",attrs:{\"title\":\"media\",\"loading\":_vm.loading.submit,\"disabled\":_vm.newPhotos.length < 1,\"action-button\":\"\",\"action-button-text\":\"save\"},on:{\"ButtonClicked\":_vm.savePhotos}}),_c('div',{staticClass:\"d-flex align-baseline justify-center\"},[_c('span',{staticClass:\"mx-3\",domProps:{\"textContent\":_vm._s(_vm.$t('label.information_center'))}}),_c('v-switch',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"hide-details\":\"\",\"true-value\":\"main_gallery\",\"false-value\":\"information_center\",\"loading\":_vm.loading.fetch},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),_c('span',{domProps:{\"textContent\":_vm._s(_vm.$t('label.honorary_exhibition'))}})],1),_c('v-container',[_c('multi-image-upload',{ref:\"imgUpload\",attrs:{\"maxSize\":4,\"imgsUrl\":_vm.photos},on:{\"fileSelected\":function($event){_vm.newPhotos = $event},\"handle_delete_image\":function($event){return _vm.photos.splice($event, 1)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"media\">\n    <global-toolbar\n      title=\"media\"\n      :loading=\"loading.submit\"\n      :disabled=\"newPhotos.length < 1\"\n      class=\"mb-12\"\n      action-button\n      action-button-text=\"save\"\n      @ButtonClicked=\"savePhotos\"\n    />\n\n    <div class=\"d-flex align-baseline justify-center\">\n      <span class=\"mx-3\" v-text=\"$t('label.information_center')\" />\n      <v-switch\n        v-model=\"type\"\n        inset\n        hide-details\n        class=\"mx-4\"\n        true-value=\"main_gallery\"\n        false-value=\"information_center\"\n        :loading=\"loading.fetch\"\n      />\n      <span v-text=\"$t('label.honorary_exhibition')\" />\n    </div>\n\n    <v-container>\n      <multi-image-upload\n        ref=\"imgUpload\"\n        :maxSize=\"4\"\n        :imgsUrl=\"photos\"\n        @fileSelected=\"newPhotos = $event\"\n        @handle_delete_image=\"photos.splice($event, 1)\"\n      />\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { IndexData, StoreData } from \"@/helpers/apiMethods\";\n\nexport default {\n  name: \"media\",\n\n  data() {\n    return {\n      photos: [],\n      newPhotos: [],\n\n      type: \"main_gallery\",\n\n      loading: {\n        fetch: false,\n        submit: false\n      }\n    };\n  },\n\n  watch: {\n    type: {\n      immediate: true,\n      handler() {\n        this.fetchItems();\n      }\n    }\n  },\n\n  methods: {\n    fetchItems() {\n      this.loading.fetch = true;\n      const query = { pagination: \"all\" };\n      this.type === \"information_center\" && (query.information_center = true);\n      IndexData({ reqName: \"photos-galleries\", query })\n        .then(res => {\n          this.photos = res.data.data;\n          this.newPhotos = [];\n          this.$refs.imgUpload.resetImageFile();\n          this.loading.fetch = false;\n        })\n        .catch(() => {\n          this.type === \"main_gallery\" ? \"information_center\" : \"main_gallery\";\n          this.loading.fetch = false;\n        });\n    },\n\n    savePhotos() {\n      this.loading.submit = true;\n      let data = new FormData();\n      this.newPhotos.forEach((photo, i) => data.append(`photos[${i}]`, photo));\n      data.append(\"title\", this.type);\n      StoreData({ reqName: \"photos-galleries\", data })\n        .then(() => {\n          this.loading.submit = false;\n          this.fetchItems();\n        })\n        .catch(() => {\n          this.loading.submit = false;\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.theme--light.v-sheet {\n  background-color: transparent !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2f540220&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2f540220&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f540220\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VContainer,VSwitch})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2f540220&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2f540220&lang=scss&scoped=true&\""],"sourceRoot":""}